(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[28],{1032:function(e,t,r){"use strict";(function(e){r.d(t,"a",function(){return h});var n=r(77),i=r(20),o=r(24),c=r(19),s=r(989);function a(e,t,r,n,i,o,c){try{var s=e[o](c),a=s.value}catch(e){return void r(e)}s.done?t(a):Promise.resolve(a).then(n,i)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){f(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var h=function(){function t(e,r,n,i,o){var c=this,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.onLoad=function(e){return c.service.onLoad(e)},this.startLoading=function(){return c.service.setLoading(!0)},this.stopLoading=function(){return c.service.setLoading(!1)},this.isSignedIn=function(){return!!c.service.isSignedIn&&c.service.isSignedIn()},this.revokeAppAccess=function(){return c.service.revokeAppAccess&&c.service.revokeAppAccess()},this.trackSuccess=function(e){return c.tracker.success(e.action),e},this.service=e,this.socialUserService=r,this.userService=n,this.experimentsService=i,this.isSignup=s,this.ctx=o,this.service.fetchScript()}var r,u,f;return r=t,(u=[{key:"continueWithAuth",value:function(e){return this.isSignup?this.signup(e):this.signin()}},{key:"signup",value:function(e){var t=this;return this.startLoading(),this.userService.signup(l({},this.service.getAuthSignupConfig(e),{custom_fields:this.customFields})).then(this.trackSuccess).catch(function(e){var r=Object(i.g)(e);throw t.logError("Social signup. Response from server","SignupError",e),{error:e,message:r}})}},{key:"signin",value:function(){var e=this;return this.startLoading(),this.userService.login(l({},this.service.getAuthSigninConfig(),{custom_fields:this.customFields})).then(this.trackSuccess).catch(function(t){var r=Object(i.g)(t);throw e.logError("Get user","SigninError",t),{error:t,message:r}})}},{key:"getToken",value:function(e){var t=e.isPopup,r=e.enableMarketingEmails,n=e.withPassword,i=e.desiredTokenType;this.isFromExtension||t?this.tracker.popupShow():this.tracker.click(),Object(s.g)(this.ctx,this.service.serviceName,r),n&&this.service.getTokenWithPassword?this.service.getTokenWithPassword(i):this.service.getToken(i)}},{key:"getTokenForUnlink",value:function(e){return this.getToken(l({},e,{desiredTokenType:this.service.unlinkTokenType}))}},{key:"loginWithPopup",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,r,n,o,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]&&c[0],e.prev=1,this.startLoading(),e.next=5,this.service.loginWithPopup();case 5:return e.next=7,this.service.loadUser();case 7:r=e.sent,this.socialUserService.setUser(l({},r,{enableMarketingEmails:!t})),e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(1),this.stopLoading(),{error:e.t0,message:"SOCIAL_ERROR"};case 15:return e.prev=15,e.next=18,this.userService.login(l({},this.service.getAuthSigninConfig(),{custom_fields:this.experimentsService.isGDPR?{disableMarketingEmails:t}:{}}));case 18:return n=e.sent,this.trackSuccess(n),e.abrupt("return",n);case 23:throw e.prev=23,e.t1=e.catch(15),o=Object(i.g)(e.t1),this.logError("Get user","SigninError",e.t1),{error:e.t1,message:o};case 28:return e.prev=28,this.stopLoading(),e.finish(28);case 31:case"end":return e.stop()}},e,this,[[1,11],[15,23,28,31]])}),function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function c(e){a(o,n,i,c,s,"next",e)}function s(e){a(o,n,i,c,s,"throw",e)}c(void 0)})});return function(){return t.apply(this,arguments)}}()},{key:"loadUser",value:function(){var e=this;return this.startLoading(),this.service.loadUser().then(function(t){return t.enableMarketingEmails=Object(s.b)().enableMarketingEmails,e.socialUserService.setUser(t),e.stopLoading(),t}).catch(function(t){throw e.tracker.fail(t.error||t.message||"".concat(e.service.serviceName," Error: User cancelled login")),e.logError("Get user","GetUserError",t),t})}},{key:"setToken",value:function(){this.service.setToken(this.ctx)}},{key:"logError",value:function(t,r,n){Object(c.b)("Error ".concat(this.service.serviceName,". ").concat(t,": ").concat(Object(i.l)(n)),e,"SocialSignInUp.".concat(this.service.serviceName,".").concat(r))}},{key:"callEvent",value:function(e,t){var r=Object(n.c)(this.ctx),i=this.service.serviceName,c=this.isSignup||"SIGNUP"===t?"Signup":"Signin";o.d["".concat(Object(n.b)(this.ctx),"Social").concat(c).concat(e)]?o.d["".concat(Object(n.b)(this.ctx),"Social").concat(c).concat(e)](r,i):o.d["sharedSocial".concat(c).concat(e)](r,i)}},{key:"isFromExtension",get:function(){return this.service.isFromExtension(this.ctx)}},{key:"customFields",get:function(){var e=!(this.socialUserService.user&&this.socialUserService.user.enableMarketingEmails);return this.experimentsService.isGDPR?{disableMarketingEmails:e}:{}}},{key:"tracker",get:function(){var e=this;return{popupShow:function(){return e.callEvent("PopupShow")},click:function(){return e.callEvent("ButtonClick")},success:function(t){return e.callEvent("FormSuccess",t)},fail:function(t){var r=Object(n.c)(e.ctx),i=e.service.serviceName,c=e.isSignup?"Signup":"Signin";o.d["".concat(Object(n.b)(e.ctx),"Social").concat(c,"FormFail")]?o.d["".concat(Object(n.b)(e.ctx),"Social").concat(c,"FormFail")](r,i,void 0,t):o.d["sharedSocial".concat(c,"FormFail")](r,i,void 0,t)}}}}])&&p(r.prototype,u),f&&p(r,f),t}()}).call(this,"/index.js")},1474:function(e,t,r){e.exports={text:"QnLKKU0",page:"_3UgK2gU",sub:"_3bJFZLp",container:"_3yaDEk4",login:"Ic1Rkfw",content:"_2qgSf_Z",block:"_3boTPFn",facebook:"NXwbjvs",google:"_2HDv_tE",info:"_19o3eb8",name:"_3wo7hgM",email:"_39Mdhov",img:"_2edfYVs",imgWrapper:"_2oK2sDa",password:"_17nwemg",buttonWrapper:"_3dE_M5q",button:"uXU433K",form:"_1jOKMNG",noMargin:"_16Q4BOk",tosWrapper:"_2hVr2V7",fullSize:"_22pxYn4"}},900:function(e,t,r){var n,i=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",n={};function i(e,t){if(!n[e]){n[e]={};for(var r=0;r<e.length;r++)n[e][e.charAt(r)]=r}return n[e][t]}var o={compressToBase64:function(e){if(null==e)return"";var r=o._compress(e,6,function(e){return t.charAt(e)});switch(r.length%4){default:case 0:return r;case 1:return r+"===";case 2:return r+"==";case 3:return r+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:o._decompress(e.length,32,function(r){return i(t,e.charAt(r))})},compressToUTF16:function(t){return null==t?"":o._compress(t,15,function(t){return e(t+32)})+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:o._decompress(e.length,16384,function(t){return e.charCodeAt(t)-32})},compressToUint8Array:function(e){for(var t=o.compress(e),r=new Uint8Array(2*t.length),n=0,i=t.length;n<i;n++){var c=t.charCodeAt(n);r[2*n]=c>>>8,r[2*n+1]=c%256}return r},decompressFromUint8Array:function(t){if(null==t)return o.decompress(t);for(var r=new Array(t.length/2),n=0,i=r.length;n<i;n++)r[n]=256*t[2*n]+t[2*n+1];var c=[];return r.forEach(function(t){c.push(e(t))}),o.decompress(c.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":o._compress(e,6,function(e){return r.charAt(e)})},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),o._decompress(e.length,32,function(t){return i(r,e.charAt(t))}))},compress:function(t){return o._compress(t,16,function(t){return e(t)})},_compress:function(e,t,r){if(null==e)return"";var n,i,o,c={},s={},a="",u="",l="",f=2,p=3,h=2,v=[],g=0,b=0;for(o=0;o<e.length;o+=1)if(a=e.charAt(o),Object.prototype.hasOwnProperty.call(c,a)||(c[a]=p++,s[a]=!0),u=l+a,Object.prototype.hasOwnProperty.call(c,u))l=u;else{if(Object.prototype.hasOwnProperty.call(s,l)){if(l.charCodeAt(0)<256){for(n=0;n<h;n++)g<<=1,b==t-1?(b=0,v.push(r(g)),g=0):b++;for(i=l.charCodeAt(0),n=0;n<8;n++)g=g<<1|1&i,b==t-1?(b=0,v.push(r(g)),g=0):b++,i>>=1}else{for(i=1,n=0;n<h;n++)g=g<<1|i,b==t-1?(b=0,v.push(r(g)),g=0):b++,i=0;for(i=l.charCodeAt(0),n=0;n<16;n++)g=g<<1|1&i,b==t-1?(b=0,v.push(r(g)),g=0):b++,i>>=1}0==--f&&(f=Math.pow(2,h),h++),delete s[l]}else for(i=c[l],n=0;n<h;n++)g=g<<1|1&i,b==t-1?(b=0,v.push(r(g)),g=0):b++,i>>=1;0==--f&&(f=Math.pow(2,h),h++),c[u]=p++,l=String(a)}if(""!==l){if(Object.prototype.hasOwnProperty.call(s,l)){if(l.charCodeAt(0)<256){for(n=0;n<h;n++)g<<=1,b==t-1?(b=0,v.push(r(g)),g=0):b++;for(i=l.charCodeAt(0),n=0;n<8;n++)g=g<<1|1&i,b==t-1?(b=0,v.push(r(g)),g=0):b++,i>>=1}else{for(i=1,n=0;n<h;n++)g=g<<1|i,b==t-1?(b=0,v.push(r(g)),g=0):b++,i=0;for(i=l.charCodeAt(0),n=0;n<16;n++)g=g<<1|1&i,b==t-1?(b=0,v.push(r(g)),g=0):b++,i>>=1}0==--f&&(f=Math.pow(2,h),h++),delete s[l]}else for(i=c[l],n=0;n<h;n++)g=g<<1|1&i,b==t-1?(b=0,v.push(r(g)),g=0):b++,i>>=1;0==--f&&(f=Math.pow(2,h),h++)}for(i=2,n=0;n<h;n++)g=g<<1|1&i,b==t-1?(b=0,v.push(r(g)),g=0):b++,i>>=1;for(;;){if(g<<=1,b==t-1){v.push(r(g));break}b++}return v.join("")},decompress:function(e){return null==e?"":""==e?null:o._decompress(e.length,32768,function(t){return e.charCodeAt(t)})},_decompress:function(t,r,n){var i,o,c,s,a,u,l,f=[],p=4,h=4,v=3,g="",b=[],d={val:n(0),position:r,index:1};for(i=0;i<3;i+=1)f[i]=i;for(c=0,a=Math.pow(2,2),u=1;u!=a;)s=d.val&d.position,d.position>>=1,0==d.position&&(d.position=r,d.val=n(d.index++)),c|=(s>0?1:0)*u,u<<=1;switch(c){case 0:for(c=0,a=Math.pow(2,8),u=1;u!=a;)s=d.val&d.position,d.position>>=1,0==d.position&&(d.position=r,d.val=n(d.index++)),c|=(s>0?1:0)*u,u<<=1;l=e(c);break;case 1:for(c=0,a=Math.pow(2,16),u=1;u!=a;)s=d.val&d.position,d.position>>=1,0==d.position&&(d.position=r,d.val=n(d.index++)),c|=(s>0?1:0)*u,u<<=1;l=e(c);break;case 2:return""}for(f[3]=l,o=l,b.push(l);;){if(d.index>t)return"";for(c=0,a=Math.pow(2,v),u=1;u!=a;)s=d.val&d.position,d.position>>=1,0==d.position&&(d.position=r,d.val=n(d.index++)),c|=(s>0?1:0)*u,u<<=1;switch(l=c){case 0:for(c=0,a=Math.pow(2,8),u=1;u!=a;)s=d.val&d.position,d.position>>=1,0==d.position&&(d.position=r,d.val=n(d.index++)),c|=(s>0?1:0)*u,u<<=1;f[h++]=e(c),l=h-1,p--;break;case 1:for(c=0,a=Math.pow(2,16),u=1;u!=a;)s=d.val&d.position,d.position>>=1,0==d.position&&(d.position=r,d.val=n(d.index++)),c|=(s>0?1:0)*u,u<<=1;f[h++]=e(c),l=h-1,p--;break;case 2:return b.join("")}if(0==p&&(p=Math.pow(2,v),v++),f[l])g=f[l];else{if(l!==h)return null;g=o+o.charAt(0)}b.push(g),f[h++]=o+g.charAt(0),o=g,0==--p&&(p=Math.pow(2,v),v++)}}};return o}();void 0===(n=function(){return i}.call(t,r,t,e))||(e.exports=n)},954:function(e,t,r){"use strict";r.d(t,"b",function(){return f});var n=r(1032),i=r(989),o=r(56);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,r,n,i,o,c){try{var s=e[o](c),a=s.value}catch(e){return void r(e)}s.done?t(a):Promise.resolve(a).then(n,i)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.d(t,"a",function(){return o.a});var f=function(){function e(t,r,o,c){var s=this,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.removeSocialStorage=function(){return Object(i.e)()},this.getSocialStorage=function(){return Object(i.b)()},this.socialUser=t,this.ctx=c,this.settings=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){u(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},l,{disableSocialService:l.disableSocialService||{}}),this.services=Object.keys(t.services).reduce(function(e,i){return s.settings.disableSocialService[i]||(e[i]=new n.a(t.services[i],t,r,o,c,s.settings.isSignup)),e},{})}var t,r,f;return t=e,(r=[{key:"tryContinueWithAuth",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(t,r){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.canContinueWithAuth){e.next=2;break}return e.abrupt("return");case 2:return n=this.currentSocialService,e.prev=3,e.next=6,n.continueWithAuth(this.socialUser.user.email);case 6:if((i=e.sent).user&&this.socialUser.setUser(void 0),!this.settings.checkExtension||!n.isFromExtension){e.next=10;break}return e.abrupt("return",window.close());case 10:t(i),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),r(e.t0);case 16:case"end":return e.stop()}},e,this,[[3,13]])}),function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function c(e){s(o,n,i,c,a,"next",e)}function a(e){s(o,n,i,c,a,"throw",e)}c(void 0)})});return function(e,r){return t.apply(this,arguments)}}()},{key:"tryAutoExtensionLogin",value:function(){var e=this;if(!this.canContinueWithAuth)for(var t in this.services)if(this.services[t].isFromExtension){var r=function(){var r=e.services[t];return{v:r.onLoad(function(){return r.getToken({})})}}();if("object"===c(r))return r.v}}},{key:"setPopupService",value:function(e){this.serviceName=o.b[e]}},{key:"resetPopupService",value:function(){this.serviceName=void 0}},{key:"currentServiceName",get:function(){return Object(i.a)(this.ctx)||this.serviceName||""}},{key:"currentSocialService",get:function(){return this.services[this.currentServiceName]}},{key:"currentServiceFromSession",get:function(){var e=Object(i.f)();return e?this.services[e]:void 0}},{key:"isError",get:function(){return Object(i.d)(this.ctx)}},{key:"waypointFromSocialStorage",get:function(){return Object(i.i)()}},{key:"canContinueWithAuth",get:function(){return this.socialUser.user&&this.currentSocialService}}])&&l(t.prototype,r),f&&l(t,f),e}()},989:function(e,t,r){"use strict";r.d(t,"g",function(){return g}),r.d(t,"b",function(){return b}),r.d(t,"f",function(){return d}),r.d(t,"e",function(){return m}),r.d(t,"i",function(){return y}),r.d(t,"d",function(){return O}),r.d(t,"h",function(){return S}),r.d(t,"c",function(){return k}),r.d(t,"a",function(){return j});var n=r(900),i=r.n(n),o=r(33),c=r(47),s=r(138),a=r(68),u=r(56);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=30*s.b,h="socialStorage",v="signin";function g(e,t,r){var n=e.nav,o=n.pageId,s=n.query,u={authMethod:t,socialRouteId:o};Object(a.f)(e)?u.fromExtensionFb="true":Object(a.g)(e)?u.fromExtensionGoogle="true":Object(a.e)(e)&&(u.fromExtensionApple="true"),u.enableMarketingEmails=r;var l=s.utm_medium,f=s.invite_key,v=s.teamsize,g=s.oid,b=s.client_id,d=s.code_challenge,m=s.enableFacebookLogin,y=s.enableGoogleLogin,O=s.enableAppleLogin,S=s.office_js,k=s.alerts,j=s.page,w=s.joinStep;l&&(u.utm_medium=l),f&&(u.invite_key=f),v&&(u.teamsize=v),g&&(u.oid=g),S&&(u.office_js=S),b&&d&&(u.client_id=b,u.code_challenge=d),m&&(u.enableFacebookLogin=m),y&&(u.enableGoogleLogin=y),O&&(u.enableAppleLogin=O),k&&(u.alerts=k),j&&(u.page=j),w&&(u.joinStep=w),Object(c.e)(h,i.a.compressToBase64(JSON.stringify(u)),p)}function b(){var e=i.a.decompressFromBase64(Object(c.c)(h)||"");return e?JSON.parse(e):{}}function d(){return b().authMethod}function m(){Object(c.b)(h)}function y(){var e=b(),t=e.socialRouteId||v,r=Object.keys(e).reduce(function(t,r){var n=e[r];return n&&"socialRouteId"!==r?function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){f(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},t,f({},r,n)):t},{});return{routeId:t,query:Object(o.a)(r)}}function O(e){return"true"===e.nav.query.socialError}function S(e,t){var r=e.nav.query,n=r.referrer||v;t.user||(delete r.referrer,e.nav.navigate({routeId:n,query:r}))}function k(e){return e.nav.query.referrer===v}function j(e){var t=e.nav.query,r=t.google,n=t.facebook,i=t.apple,o=t.authMethod;return"true"===r?u.b.google:"true"===n?u.b.facebook:"true"===i?u.b.apple:o||null}}}]);