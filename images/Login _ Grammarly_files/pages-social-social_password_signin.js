(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[167],{1800:function(e,t,n){e.exports={content:"_1t_w-ix",img:"_3doOnNu",imgWrapper:"EtdgHGb"}},458:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),a=n(136),i=n(14),c=n(104),s=n(223),u=n(989),l=n(56),p=n(47),f=n(285),d=n(68),m=n(999),h=n(77),b=n(24),y=n(286),g=n(977),v=n(866),w=n(908),O=n(861),E=n(1800),S=n.n(E);function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var x=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":P(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},R=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":P(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},M=Object(i.a)().urls.editor,N=function(e){function t(e,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=k(this,_(t).call(this,e,n))).handleAccept=function(e){var t="affiliate"===Object(p.c)("funnelType"),n="true"===Object(p.c)("installedExtension"),o=r.getCtx(),a=o.nav,i=a.query.referrer,c=void 0===i?"":i,s=c.includes("business"),u=c.includes("upgradeBusiness"),l=c.includes("officeAddin"),h=c.includes("edu");if(Object(d.d)(o))Object(f.a)(300).then(function(){return window.close()});else if(h)a.navigate({routeId:"eduSignin",query:{userDidLogin:"true"}});else if(l)a.navigate({routeId:"officeAddinDownloading"});else if(u){var b=a.query,y=b.teamsize,g=void 0===y?"":y,v=b.oid,w=void 0===v?"":v;a.navigate({routeId:"upgradeBusiness",query:{teamsize:g,oid:w}})}else!e.isAdmin&&s?a.navigate({routeId:"createTeam"}):t&&n?a.navigate({routeId:"welcome"}):Object(m.b)(a).catch(function(){document.location.href=M})};var o=r.props.socialUserService.user||{},a=r.getCtx().nav.query.referrer;return r.state={loading:!1,error:!1,avatar:o.avatar,name:o.name,email:o.email,isMobile:(a||"").includes("mobile")},r}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,s["a"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.getCtx();Object(u.h)(e,this.props.socialUserService);var t=e.nav.query.authMethod;b.d.sharedSocialPasswordSigninPageShow(Object(h.e)(e),location.href,t)}},{key:"render",value:function(){var e=this.state.email;return o.a.createElement(g.a,{deprecatedStyle:!0},o.a.createElement(a.a,null,Object(y.a)()),o.a.createElement(O.a,null),o.a.createElement("div",{className:S.a.content},o.a.createElement(w.a,{subtitle:o.a.createElement(o.a.Fragment,null,o.a.createElement("span",null,"You already have a Grammarly account,",o.a.createElement("br",null),"please log in with your password"),this.state.avatar&&o.a.createElement("div",{className:S.a.imgWrapper},o.a.createElement("img",{src:this.state.avatar,className:S.a.img}))),prepopulatedEmail:e,signupFlow:v.b.disabled,handleAccept:this.handleAccept,disabledSocialProviders:l.c})))}}])&&j(n.prototype,r),i&&j(n,i),t}();N=x([Object(s.c)({autotrack:!1}),R("design:paramtypes",[Object,Object])],N),t.default=Object(c.a)("socialUserService")(Object(c.b)(N))},858:function(e,t,n){"use strict";var r=n(1),o=n.n(r),a=n(878),i=n(279),c=n(55),s=n(94),u=n(892),l=n.n(u);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,m(t).apply(this,arguments))}var n,r,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,a["a"]),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.value,r=t.message,a=t.focus,u=t.autoFocus,p=t.hint,f=t.type,d=t.autoComplete,m=t.maxLength,h=t.readOnly,b=t.qa,y=t.placeholder,g=t.name,v=t.className,w=t.onChangeLinkClick,O=t.changeLinkEnabled,E=b&&"txt".concat(Object(i.a)(b)),S=b&&"err".concat(Object(i.a)(b)),j=r||p,k=a||Boolean(n);return o.a.createElement("div",{className:Object(c.b)(l.a.container,v)},o.a.createElement("div",{className:Object(c.b)(l.a.placeholder,k&&l.a.placeholderSmall,h&&l.a.placeholderReadOnly)},y),j&&o.a.createElement("div",{"data-qa":S,className:l.a.message},j),o.a.createElement("input",{ref:this.inputRef,name:g,type:f,autoComplete:d,maxLength:m,disabled:h,readOnly:h,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onChange:function(t){return e.props.onChange(t.target.value)},value:n,"data-qa":E,autoFocus:u,className:Object(c.b)(l.a.input,r&&l.a.inputError,h&&l.a.inputReadOnly)}),O&&h&&w&&o.a.createElement(s.a,{className:j?l.a.changeLinkBottom:l.a.changeLink,onBeforeFollow:function(){return w()}},"Change"))}}])&&f(n.prototype,r),u&&f(n,u),t}();t.a=Object(a.b)(b)},860:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return d});var r,o,a=n(1),i=n.n(a),c=n(852),s=n(915),u=n.n(s);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.scrollIn="scrollIn",e.fadeIn="fadeIn"}(o||(o={}));var f=(p(r={},o.fadeIn,500),p(r,o.scrollIn,300),r),d=function(e){var t,n=e.show,r=e.children,a=e.animation,s={classNames:(p(t={},o.fadeIn,{enter:u.a.fadeInEnter,enterActive:u.a.fadeInEnter,enterDone:u.a.fadeInEnterActive,exit:u.a.fadeInExit,exitActive:u.a.fadeInExitActive,exitDone:u.a.fadeInExitDone}),p(t,o.scrollIn,{enter:u.a.scrollInEnter,enterActive:u.a.scrollInEnter,enterDone:u.a.scrollInEnterActive,exit:u.a.scrollInExit,exitActive:u.a.scrollInExitActive}),t)[a],timeout:f[a],mountOnEnter:!0,unmountOnExit:!0};return i.a.createElement(c.a,l({in:n},s),i.a.createElement("div",{className:u.a.container},r))}},861:function(e,t,n){"use strict";var r=n(1),o=n.n(r),a=n(104),i=n(66),c=n(55),s=n(94),u=n(282),l=n(864),p=n.n(l),f=n(865),d=n.n(f);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=100,w=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=b(this,y(t).apply(this,arguments))).container=o.a.createRef(),e.leftContent=o.a.createRef(),e.rightContent=o.a.createRef(),e.state={wrapHeader:!1},e.handleHeaderLayout=function(){var t=e.container.current.offsetWidth,n=e.leftContent.current.offsetWidth,r=e.rightContent.current.offsetWidth;e.setState({wrapHeader:t<=n+r+v})},e}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,i["b"]),n=t,(r=[{key:"componentDidMount",value:function(){this.props.responsive&&(addEventListener("resize",this.handleHeaderLayout),this.handleHeaderLayout())}},{key:"componentWillUnmount",value:function(){this.props.responsive&&removeEventListener("resize",this.handleHeaderLayout)}},{key:"render",value:function(){var e=this.props,t=e.login,n=e.passFullQueryToSignIn,r=e.signInPageId,a=e.rightBlock,i=e.leftBlock,l=e.business,f=e.linkLogo,m=e.trackLogoClick,h=e.onboardingRedesignTest,b=e.hasNavItems,y=f?o.a.createElement(s.a,{routeId:this.linkLogoRouteId,onBeforeFollow:function(){return m&&m()}},o.a.createElement("img",{width:140,src:p.a,alt:"Grammarly Logo"})):o.a.createElement("img",{width:140,src:p.a,alt:"Grammarly Logo"});return o.a.createElement("div",{className:this.className,ref:this.container},o.a.createElement("div",{className:Object(c.b)(d.a.logo,l&&d.a.logoBusiness),ref:this.leftContent},y,o.a.createElement("div",{className:d.a.leftBlock},i)),o.a.createElement("div",{className:d.a.rightBlock,ref:this.rightContent},a,t&&o.a.createElement(u.a,{onboardingRedesignTest:h,signInPageId:r,passFullQueryToSignin:n,business:l,newHeader:!l&&!b,limitWidth:!!a,className:d.a.authButton})))}},{key:"className",get:function(){var e=this.props,t=e.fixed,n=e.absolute,r=e.narrow,o=e.className;return Object(c.b)(d.a.header,!t&&!n&&d.a.static,t&&d.a.fixed,n&&d.a.absolute,r&&d.a.narrow,this.state.wrapHeader&&d.a.wrapHeader,o)}},{key:"linkLogoRouteId",get:function(){var e=this.props,t=e.browserService;return e.business?"businessHome":t.isMobile?"mobileHome":"home"}}])&&h(n.prototype,r),a&&h(n,a),t}();t.a=Object(a.a)("browserService")(w)},864:function(e,t,n){e.exports=n.p+"files/3a89d404f9db7ffd42e5fa9b8cd7d93e/grammarly_logo.svg"},865:function(e,t,n){e.exports={header:"_2mgzQtl",wrapHeader:"_3ytGWsS",logo:"_3zWr-8h",rightBlock:"_2Ve0dXu",static:"_1lP8pC1",fixed:"MVEJI-J",absolute:"_1f0D8q9",narrow:"_2AFuieN",logoBusiness:"_1RgKUSF",authButton:"_2ipRDRs",leftBlock:"_2db82Bo"}},866:function(e,t,n){"use strict";var r,o,a;n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a}),function(e){e.popup="popup",e.redirect="redirect"}(r||(r={})),function(e){e.popup="popup",e.buildIn="inline"}(o||(o={})),function(e){e.disabled="disabled",e.link="link",e.buildIn="buildIn"}(a||(a={}))},873:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return f}),n.d(t,"c",function(){return d}),n.d(t,"b",function(){return m}),n.d(t,"d",function(){return h}),n.d(t,"e",function(){return y}),n.d(t,"f",function(){return v});var r=n(14),o=n(67),a=n(56),i=n(20),c=n(19);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){u(a,r,o,i,c,"next",e)}function c(e){u(a,r,o,i,c,"throw",e)}i(void 0)})}}var p=new Set(Object.keys(o.b.OAuth.ClientId).map(function(e){return o.b.OAuth.ClientId[e]}));function f(e){var t=e.nav.query;return{clientId:t.client_id,codeChallenge:t.code_challenge}}function d(e){var t=f(e),n=t.clientId,r=t.codeChallenge;return function(e){return p.has(e)}(n)&&!!r}function m(e,t){switch(e){case o.b.OAuth.ClientId.MobileIOS:return"Grammarly Keyboard for iOS";case o.b.OAuth.ClientId.MobileAndroid:return"Grammarly Keyboard for Android";case o.b.OAuth.ClientId.SafariExtension:return"Safari Extension";case o.b.OAuth.ClientId.OfficeAddin:return"Grammarly for Microsoft Office";case o.b.OAuth.ClientId.DesktopEditor:return t?"Grammarly for Windows":"Grammarly for Mac"}if(p.has(e))return"Grammarly";throw new Error("Unregistered oAuth Client")}function h(e,t,n,r){return b.apply(this,arguments)}function b(){return(b=l(regeneratorRuntime.mark(function t(n,r,o,a){var s,u,l,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.auth.oAuthAuthorizationRequest(r,o);case 3:s=t.sent,u=s.redirect_uri,"extension-safari"===r&&a?(l=function(){return window.postMessage({name:"oauthExchange",data:{redirectUri:u}},"*")},p=function e(t){t.source===window&&t.data&&"readyForOAuthExchange"===t.data.name&&(l(),window.removeEventListener("message",e))},window.addEventListener("message",p),l()):window.location.replace(u),t.next=12;break;case 8:throw t.prev=8,t.t0=t.catch(0),Object(c.b)("OAuth code generation error: ".concat(Object(i.l)(t.t0)),e,"oAuthCodeGenerationErrors"),t.t0;case 12:case"end":return t.stop()}},t,null,[[0,8]])}))).apply(this,arguments)}function y(e,t,n){return g.apply(this,arguments)}function g(){return(g=l(regeneratorRuntime.mark(function t(n,r,o){var a,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.auth.oAuthAuthorizationRequest(r,o);case 3:return a=t.sent,s=a.redirect_uri,t.abrupt("return",s);case 8:throw t.prev=8,t.t0=t.catch(0),Object(c.b)("OAuth code generation error: ".concat(Object(i.l)(t.t0)),e,"oAuthCodeGenerationErrors"),t.t0;case 12:case"end":return t.stop()}},t,null,[[0,8]])}))).apply(this,arguments)}function v(e,t){var n,o=Object(r.a)().keyboard.oauthUri,i=(s(n={},a.b.facebook,"use_facebook"),s(n,a.b.google,"use_google"),s(n,a.b.apple,"use_apple"),n);window.location.replace("".concat(o,"?login_type=").concat(i[t],"&code_challenge=").concat(e))}}).call(this,"/index.js")},877:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o;n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return i}),function(e){e.signinForm="signinForm",e.secureLogin="secureLogin",e.accountCreation="accountCreation",e.mfa="mfa",e.social="social",e.forgotPassword="forgotPassword",e.forgotEmail="forgotEmail",e.support="contactSupport",e.emailVerification="emailVerification",e.changeEmail="changeEmail",e.oAuthConsent="oAuthConsent",e.captcha="captcha",e.loading="loading"}(o||(o={}));var a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.overrideFirstStep=t,this.customSteps=n}var t,n,a;return t=e,(n=[{key:"navigateTo",value:function(e,t){var n=[e,t].toString();if(this.customSteps&&this.customSteps.get(n)){var r=this.customSteps.get(n);if(r in o)return r;if("function"==typeof r)return r(),t}return t}}])&&r(t.prototype,n),a&&r(t,a),e}(),i=function(e,t){var n=new Map;return t&&t.forEach(function(e){return n.set([e.start,e.end].toString(),e.doInstead)}),new a(e,n)}},879:function(e,t,n){e.exports={title:"_2QSX-_Q",subtitle:"_1l_ZRTQ",content:"_3aiRa7F",instructionsText:"_3MwTX9e",form:"j4-w0aH",gradientLine:"_1U7yKGW",close:"_3WdWrOW",buildIn:"_3bxLvB0",link:"M5DSIPh",errorMessage:"_3eIObEC",input:"_3v2F6VH",button:"_3ZHPnfE",mobileTosContainer:"_1lqBznY",tos:"_1K6IGJc",loader:"_32x_L4X",signinForm:"_1XwpHAB",space:"_1fQatYd",emailInput:"_1DAfHHZ",show:"RRlBfxI",hide:"tf24pl1"}},882:function(e,t,n){"use strict";var r=n(1),o=n.n(r),a=n(66),i=n(55),c=n(913),s=n.n(c);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,f(t).apply(this,arguments))}var n,r,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,a["b"]),n=t,(r=[{key:"render",value:function(){return o.a.createElement("div",{className:Object(i.b)(s.a.container,this.props.className),"data-qa":"loader"},o.a.createElement("span",{className:s.a.preloader}))}}])&&l(n.prototype,r),c&&l(n,c),t}();t.a=m},886:function(e,t,n){"use strict";n.d(t,"b",function(){return y}),n.d(t,"c",function(){return g}),n.d(t,"a",function(){return v});var r=n(5),o=n(20);function a(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function s(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?l(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":m(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},b=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":m(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},y=function e(){var t=this;d(this,e),this.disableResend=!1,this.setDisableResend=function(e){return t.disableResend=e},this.startResendCountdown=function(){t.setDisableResend(!0),t.timeoutId=window.setTimeout(function(){return t.setDisableResend(!1)},e.IntervalBetweenCodeSend)},this.cleanupTimer=function(){return t.timeoutId&&clearTimeout(t.timeoutId)}};y.IntervalBetweenCodeSend=3e4,h([r.observable,b("design:type",Object)],y.prototype,"disableResend",void 0),h([r.action,b("design:type",Object)],y.prototype,"setDisableResend",void 0);var g=function(e){function t(e,n,r,i,c,p,f,m){var h;return d(this,t),(h=s(this,u(t).call(this))).handleSuccess=e,h.ctx=n,h.setPassword=r,h.handleIncorrectPassword=i,h.getEmail=c,h.getPassword=p,h.goToVerifyEmail=f,h._goBack=m,h.isConfirmNewEmailStep=!1,h.setNewEmail=function(e){h.newEmailCandidate=e},h.handleNewEmailInformation=function(){h.startVerifyNewEmailStep(),h.goToVerifyEmail()},h.goBack=function(){h.isConfirmNewEmailStep=!1,h._goBack()},h.startVerifyNewEmailStep=function(){return h.isConfirmNewEmailStep=!0},h.sendCode=function(){var e=h.ctx.api.auth,t=h.isVerifyNewEmail?function(){return e.sendEmailChangeCode(h.newEmailCandidate||"")}:function(){return e.sendVerificationEmail("business")};return h.startResendCountdown(),t()},h.verifyCode=function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var n,r,a,i,c,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=h.ctx.api.auth,r=l(h),a=r.isVerifyNewEmail,i=r.newEmailCandidate,c=void 0===i?"":i,s=r.password,!a){e.next=6;break}return e.next=5,n.verifyEmailChangeCode(c,s,t).catch(function(e){throw"FAILURE"===Object(o.g)(e)&&h.handleIncorrectPassword(),e});case 5:return e.abrupt("return",e.sent);case 6:return e.abrupt("return",n.verifyVerificationEmail(t));case 7:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function c(e){a(i,r,o,c,s,"next",e)}function s(e){a(i,r,o,c,s,"throw",e)}c(void 0)})});return function(e){return t.apply(this,arguments)}}(),h}return p(t,y),c(t,[{key:"isVerifyNewEmail",get:function(){return this.isConfirmNewEmailStep}},{key:"email",get:function(){return this.getEmail()}},{key:"password",get:function(){return this.getPassword()}}]),t}();h([r.observable,b("design:type",Object)],g.prototype,"newEmailCandidate",void 0),h([r.observable,b("design:type",Object)],g.prototype,"isConfirmNewEmailStep",void 0),h([r.action,b("design:type",Object)],g.prototype,"setNewEmail",void 0),h([r.action,b("design:type",Object)],g.prototype,"handleNewEmailInformation",void 0),h([r.action,b("design:type",Object)],g.prototype,"goBack",void 0),h([r.computed,b("design:type",Object),b("design:paramtypes",[])],g.prototype,"isVerifyNewEmail",null),h([r.computed,b("design:type",Object),b("design:paramtypes",[])],g.prototype,"email",null),h([r.computed,b("design:type",Object),b("design:paramtypes",[])],g.prototype,"password",null),h([r.action,b("design:type",Object)],g.prototype,"startVerifyNewEmailStep",void 0);var v=function(e){function t(e,n,r){var o;return d(this,t),(o=s(this,u(t).call(this))).getEmail=e,o.handleSuccess=n,o.ctx=r,o.newEmailCandidate=void 0,o.sendCode=function(){return o.ctx.api.auth.sendVerificationEmail("business")},o.verifyCode=function(e){return o.ctx.api.auth.verifyVerificationEmail(e)},o}return p(t,y),c(t,[{key:"email",get:function(){return this.getEmail()}},{key:"isVerifyNewEmail",get:function(){return!1}},{key:"password",get:function(){return""}}]),t}();h([r.computed,b("design:type",Object),b("design:paramtypes",[])],v.prototype,"email",null)},888:function(e,t,n){"use strict";var r,o=n(1),a=n.n(o),i=n(66),c=n(55),s=n(918),u=n.n(s);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function f(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}!function(e){e[e.BackSpace=8]="BackSpace",e[e.LeftArrow=37]="LeftArrow",e[e.RightArrow=39]="RightArrow"}(r||(r={}));var y="",g=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=m(this,h(t).apply(this,arguments))).fieldCount=6,e.lockInputs=!1,e.inputs=Array(e.fieldCount).fill(function(){return a.a.createRef()}).map(function(e){return e()}),e.state={values:Array(e.fieldCount).fill(y)},e.updateValues=function(t,n){var r=e.getCode();e.setState(function(r){return{values:e.replaceValues(r.values,t,n)}},function(){e.props.onChange(e.getCode()),e.handleIfFilledOut(r)})},e.replaceValues=function(t,n,r){var o=r===y?[""]:r.substring(0,e.fieldCount-n).split(y);return e.splice(t,n,o)},e.splice=function(e,t,n){var r=e.slice();return r.splice.apply(r,[t,n.length].concat(f(n))),r},e.handleIfFilledOut=function(){var t,n=(t=regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.lockInputs=!0,(r=e.getCode()).length!==e.fieldCount||n===r||!e.props.onFilledOut){t.next=11;break}return t.prev=3,t.next=6,e.props.onFilledOut(r);case 6:e.clearCode(),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(3);case 11:e.lockInputs=!1;case 12:case"end":return t.stop()}},t,null,[[3,9]])}),function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(e){p(a,r,o,i,c,"next",e)}function c(e){p(a,r,o,i,c,"throw",e)}i(void 0)})});return function(e){return n.apply(this,arguments)}}(),e.clearCode=function(){e.setState({values:Array(e.fieldCount).fill(y)}),e.goto(0)},e.getCode=function(){return e.state.values.join(y)},e}var n,o,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,i["b"]),n=t,(o=[{key:"goto",value:function(e){var t=this.inputs[Math.max(0,Math.min(this.fieldCount-1,e))];t.current.focus(),t.current.select()}},{key:"handleChange",value:function(e,t){if(!this.lockInputs){var n=e.target.value.replace(/[^\d]/g,y);this.updateValues(t,n),this.goto(Math.min(t+n.length,this.fieldCount))}}},{key:"handleKeyDown",value:function(e,t){if(!this.lockInputs){var n=e.keyCode;n===r.BackSpace?(e.preventDefault(),this.updateValues(t,y),this.goto(t-1)):n===r.LeftArrow?(e.preventDefault(),this.goto(t-1)):n===r.RightArrow&&(e.preventDefault(),this.goto(t+1))}}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:u.a.container},this.inputs.map(function(t,n){return a.a.createElement("input",{disabled:e.props.disabled,ref:t,className:Object(c.b)(u.a.input,2===n&&u.a.third),autoFocus:0===n,key:"input_".concat(n),type:"text",pattern:"[0-9]*",autoComplete:"one-time-code",value:e.state.values[n],onFocus:function(e){return e.target.select()},onChange:function(t){return e.handleChange(t,n)},onKeyDown:function(t){return e.handleKeyDown(t,n)},inputMode:"numeric","data-qa":"txtCodes".concat(n)})}))}}])&&d(n.prototype,o),s&&d(n,s),t}();t.a=g},889:function(e,t,n){"use strict";var r=n(1),o=n.n(r),a=n(66);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=s(this,u(t).apply(this,arguments))).state={score:1,isAnimation:!1},e.startAnimation=function(){if(!e.state.isAnimation){var t=e.props.score||100,n=e.props.interval;e.setState({score:1,isAnimation:!0},function(){return e.doAnimation(t,n)})}},e.doAnimation=function(t,n){e.state.score<t?(e.setState(function(e){return{score:e.score+1}}),e.timeoutId=window.setTimeout(function(){return e.doAnimation(t,n)},n/t)):e.setState({isAnimation:!1})},e}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,a["b"]),n=t,(r=[{key:"componentWillUnmount",value:function(){this.timeoutId&&clearTimeout(this.timeoutId)}},{key:"render",value:function(){var e=this.props.radius,t=e*Math.PI;return o.a.createElement("div",{className:this.props.className},o.a.createElement("svg",{fill:"none",width:2*e,height:2*e,onClick:this.startAnimation},o.a.createElement("circle",{stroke:"#EFF0F7",cx:e,cy:e,r:e/2,strokeWidth:e}),o.a.createElement("circle",{stroke:"#C6CBDE",cx:e,cy:e,r:e/2,strokeWidth:e,strokeDasharray:"".concat(t*this.state.score/100," ").concat(t),transform:"rotate(-90, ".concat(e,", ").concat(e,")")})))}}])&&c(n.prototype,r),i&&c(n,i),t}();t.a=p},890:function(e,t,n){e.exports={instructionsText:"CvKgbJg",tooltip:"_2TEeEak",link:"_2kkq_wr",disabledLink:"gJR0VwA",emailContainer:"BMJ3qqM",form:"_1yPgFEd",emailIllustration:"_1Gqymkm",errorMessageContainer:"_3YraEIN",errorMessage:"_3Ur0xLg",links:"_2lJyna_",progress:"_1Dvcu0-",hide:"_2SL_Axg",preLoader:"_1QXfqzt",subtitle:"_2eCC7t3"}},892:function(e,t,n){e.exports={changeLink:"_2wFnAAu",changeLinkBottom:"CSPkkt5",container:"_1rrBucN",input:"_3gzIFZ2",inputError:"_3PegdnS",inputReadOnly:"_3Vlre7T",message:"_3SjJEpE",placeholder:"_2l6hX90",placeholderSmall:"_290rCzC",placeholderReadOnly:"_36uxGNa"}},896:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return c}),n.d(t,"b",function(){return s});var r=n(47),o=n(138),a=n(95);function i(){Object(r.e)("isGrammarlyUser",!0,o.d)}function c(e){a.a.sendPageview("/G:User_Login_Succeeded"),i()}function s(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];i(),a.a.sendPageview("/G:User_Account_Created")}},900:function(e,t,n){var r,o=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function o(e,t){if(!r[e]){r[e]={};for(var n=0;n<e.length;n++)r[e][e.charAt(n)]=n}return r[e][t]}var a={compressToBase64:function(e){if(null==e)return"";var n=a._compress(e,6,function(e){return t.charAt(e)});switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:a._decompress(e.length,32,function(n){return o(t,e.charAt(n))})},compressToUTF16:function(t){return null==t?"":a._compress(t,15,function(t){return e(t+32)})+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:a._decompress(e.length,16384,function(t){return e.charCodeAt(t)-32})},compressToUint8Array:function(e){for(var t=a.compress(e),n=new Uint8Array(2*t.length),r=0,o=t.length;r<o;r++){var i=t.charCodeAt(r);n[2*r]=i>>>8,n[2*r+1]=i%256}return n},decompressFromUint8Array:function(t){if(null==t)return a.decompress(t);for(var n=new Array(t.length/2),r=0,o=n.length;r<o;r++)n[r]=256*t[2*r]+t[2*r+1];var i=[];return n.forEach(function(t){i.push(e(t))}),a.decompress(i.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":a._compress(e,6,function(e){return n.charAt(e)})},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),a._decompress(e.length,32,function(t){return o(n,e.charAt(t))}))},compress:function(t){return a._compress(t,16,function(t){return e(t)})},_compress:function(e,t,n){if(null==e)return"";var r,o,a,i={},c={},s="",u="",l="",p=2,f=3,d=2,m=[],h=0,b=0;for(a=0;a<e.length;a+=1)if(s=e.charAt(a),Object.prototype.hasOwnProperty.call(i,s)||(i[s]=f++,c[s]=!0),u=l+s,Object.prototype.hasOwnProperty.call(i,u))l=u;else{if(Object.prototype.hasOwnProperty.call(c,l)){if(l.charCodeAt(0)<256){for(r=0;r<d;r++)h<<=1,b==t-1?(b=0,m.push(n(h)),h=0):b++;for(o=l.charCodeAt(0),r=0;r<8;r++)h=h<<1|1&o,b==t-1?(b=0,m.push(n(h)),h=0):b++,o>>=1}else{for(o=1,r=0;r<d;r++)h=h<<1|o,b==t-1?(b=0,m.push(n(h)),h=0):b++,o=0;for(o=l.charCodeAt(0),r=0;r<16;r++)h=h<<1|1&o,b==t-1?(b=0,m.push(n(h)),h=0):b++,o>>=1}0==--p&&(p=Math.pow(2,d),d++),delete c[l]}else for(o=i[l],r=0;r<d;r++)h=h<<1|1&o,b==t-1?(b=0,m.push(n(h)),h=0):b++,o>>=1;0==--p&&(p=Math.pow(2,d),d++),i[u]=f++,l=String(s)}if(""!==l){if(Object.prototype.hasOwnProperty.call(c,l)){if(l.charCodeAt(0)<256){for(r=0;r<d;r++)h<<=1,b==t-1?(b=0,m.push(n(h)),h=0):b++;for(o=l.charCodeAt(0),r=0;r<8;r++)h=h<<1|1&o,b==t-1?(b=0,m.push(n(h)),h=0):b++,o>>=1}else{for(o=1,r=0;r<d;r++)h=h<<1|o,b==t-1?(b=0,m.push(n(h)),h=0):b++,o=0;for(o=l.charCodeAt(0),r=0;r<16;r++)h=h<<1|1&o,b==t-1?(b=0,m.push(n(h)),h=0):b++,o>>=1}0==--p&&(p=Math.pow(2,d),d++),delete c[l]}else for(o=i[l],r=0;r<d;r++)h=h<<1|1&o,b==t-1?(b=0,m.push(n(h)),h=0):b++,o>>=1;0==--p&&(p=Math.pow(2,d),d++)}for(o=2,r=0;r<d;r++)h=h<<1|1&o,b==t-1?(b=0,m.push(n(h)),h=0):b++,o>>=1;for(;;){if(h<<=1,b==t-1){m.push(n(h));break}b++}return m.join("")},decompress:function(e){return null==e?"":""==e?null:a._decompress(e.length,32768,function(t){return e.charCodeAt(t)})},_decompress:function(t,n,r){var o,a,i,c,s,u,l,p=[],f=4,d=4,m=3,h="",b=[],y={val:r(0),position:n,index:1};for(o=0;o<3;o+=1)p[o]=o;for(i=0,s=Math.pow(2,2),u=1;u!=s;)c=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),i|=(c>0?1:0)*u,u<<=1;switch(i){case 0:for(i=0,s=Math.pow(2,8),u=1;u!=s;)c=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),i|=(c>0?1:0)*u,u<<=1;l=e(i);break;case 1:for(i=0,s=Math.pow(2,16),u=1;u!=s;)c=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),i|=(c>0?1:0)*u,u<<=1;l=e(i);break;case 2:return""}for(p[3]=l,a=l,b.push(l);;){if(y.index>t)return"";for(i=0,s=Math.pow(2,m),u=1;u!=s;)c=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),i|=(c>0?1:0)*u,u<<=1;switch(l=i){case 0:for(i=0,s=Math.pow(2,8),u=1;u!=s;)c=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),i|=(c>0?1:0)*u,u<<=1;p[d++]=e(i),l=d-1,f--;break;case 1:for(i=0,s=Math.pow(2,16),u=1;u!=s;)c=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),i|=(c>0?1:0)*u,u<<=1;p[d++]=e(i),l=d-1,f--;break;case 2:return b.join("")}if(0==f&&(f=Math.pow(2,m),m++),p[l])h=p[l];else{if(l!==d)return null;h=a+a.charAt(0)}b.push(h),p[d++]=a+h.charAt(0),a=h,0==--f&&(f=Math.pow(2,m),m++)}}};return a}();void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)},907:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(1),o=n.n(r),a=n(966),i=n(962),c=n.n(i);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=f(this,d(t).apply(this,arguments))).showTooltipTrackingTimeout=-1,e.rowHoverStartTime=Number.MAX_SAFE_INTEGER,e.state={visible:!1},e}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,o.a.Component),n=t,(r=[{key:"handleMouseEnter",value:function(e){var t,n;null!=e.currentTarget&&this.setState({visible:!0}),null===(n=(t=this.props).onHover)||void 0===n||n.call(t);var r=this.props.handleTooltipShowTracking;r&&(this.showTooltipTrackingTimeout=window.setTimeout(function(){r()},300),this.rowHoverStartTime=performance.now())}},{key:"handleMouseLeave",value:function(e){this.setState({visible:!1}),window.clearTimeout(this.showTooltipTrackingTimeout)}},{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},this.props,{visible:this.state.visible});return o.a.createElement("div",{className:c.a.tooltipContainer,onMouseEnter:function(t){return e.handleMouseEnter(t)},onMouseLeave:function(t){return e.handleMouseLeave(t)}},o.a.createElement(a.a,t,this.props.children))}}])&&p(n.prototype,r),i&&p(n,i),t}()},908:function(e,t,n){"use strict";var r=n(1),o=n.n(r),a=n(5),i=n(66),c=n(104),s=n(67),u=n(954),l=n(290),p=n(56),f=n(20),d=n(872),m=n(285),h=n(55),b=n(77),y=n(186),g=n(19),v=n(24),w=n(910),O=n(860),E=n(893),S=n(882),j=n(94),k=n(950),_=n(855),C=n(916),P=n.n(C),x=n(917),R=n.n(x);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var F=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=I(this,T(t).apply(this,arguments))).state={comment:"",success:!1},e.sendRequest=function(){e.getCtx().api.irbis.createMfaSupportTicket({name:"NA - Two Step Verification Form",email:e.props.email,comment:e.state.comment}),e.setState({success:!0})},e}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(t,i["b"]),n=t,(r=[{key:"componentDidMount",value:function(){v.d.sharedContactSupportStepPageShow(Object(b.e)(this.getCtx()),location.href)}},{key:"render",value:function(){return o.a.createElement("div",null,this.state.success?this.success:this.request)}},{key:"request",get:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:R.a.subTitle},"It will take several business days to get back into your account using Grammarly’s help."),o.a.createElement("div",{className:R.a.text},o.a.createElement("p",null,"Grammarly wants to make sure that you - and not somebody who stole your password and is pretending to be you - are the one trying to get into your account. This process requires at least 5 days."),o.a.createElement("p",null,"If you’re sure you don’t have access to any of your second step verification methods, please give us a brief description of your problem and we will get back to you.")),o.a.createElement(k.a,{className:R.a.textarea,placeholder:"Please describe your issue",handleChange:function(t){return e.setState({comment:t})}}),o.a.createElement(_.c,{colorScheme:"green",onClick:this.sendRequest,className:R.a.button,shape:"rect"},"Submit request"))}},{key:"success",get:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("img",{src:P.a,className:R.a.successIcon}),o.a.createElement("div",{className:R.a.successTitle},"We’ve got your request"),o.a.createElement("div",{className:R.a.successText},"Please allow several business days for one of our representatives to contact you."),o.a.createElement(j.a,{className:R.a.backLink,onBeforeFollow:this.props.backToSignin,qa:"linkBackToLogin"},"< Back to login"))}}])&&N(n.prototype,r),a&&N(n,a),t}(),L=n(914),D=n(873),q=n(921),V=n.n(q);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function G(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){U(a,r,o,i,c,"next",e)}function c(e){U(a,r,o,i,c,"throw",e)}i(void 0)})}}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Q,X=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=H(this,z(t).apply(this,arguments))).state={loading:!1},e.handleClick=G(regeneratorRuntime.mark(function t(){var n,r,o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,r=n.onAuthorize,o=n.userService,a=e.getCtx().nav,t.prev=2,e.setState({loading:!0}),v.d.sharedOAuthConsentButtonClick(a.pageId),t.next=7,r(o.user,o.lastAuthAction);case 7:v.d.sharedOAuthConsentFormSuccess(a.pageId),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),v.d.sharedOAuthConsentFormFail(a.pageId,void 0,Object(f.l)(t.t0));case 13:return t.prev=13,e.setState({loading:!1}),t.finish(13);case 16:case"end":return t.stop()}},t,null,[[2,10,13,16]])})),e}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(t,i["a"]),n=t,(r=[{key:"componentDidMount",value:function(){v.d.sharedOAuthConsentStepPageShow(Object(b.e)(this.getCtx()),location.href)}},{key:"render",value:function(){var e=this.props,t=e.userService,n=e.onRequestSignin;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:V.a.title},"Sign In"),o.a.createElement("div",{className:V.a.email},"".concat(t.user.email," ")," ",o.a.createElement("div",{onClick:n,className:V.a.change},"Change")),o.a.createElement("div",{className:V.a.consent},"You are about to sign in to the ",this.appName," using your Grammarly account."),o.a.createElement(_.c,{loading:this.state.loading,onClick:this.handleClick,qa:"btnOAuthConsent",colorScheme:"green",size:"large",shape:"round",className:V.a.authorize},"Continue to Grammarly"))}},{key:"appName",get:function(){return Object(D.b)(this.props.clientId,this.props.browserService.isWindows)}}])&&W(n.prototype,r),a&&W(n,a),t}(),Z=Object(c.a)("userService","browserService")(X);!function(e){e[e.SecureLogin=0]="SecureLogin",e[e.SocialReAuthentication=1]="SocialReAuthentication",e[e.Standard=2]="Standard"}(Q||(Q={}));var Y=n(857),K=n(854),$=n(853),ee=n(33),te=n(922),ne=n.n(te);function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var se=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ae(this,ie(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(t,i["b"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.links,n=e.className;return o.a.createElement("div",{className:Object(h.b)(ne.a.bottomWrapper,n)},t.map(function(e,t){return o.a.createElement("div",{key:t},0!==t?o.a.createElement(o.a.Fragment,null," · "):"",o.a.createElement(j.a,{className:ne.a.navigationLink,waypoint:Object(ee.d)(e.routeId||e.targetRoute),onBeforeFollow:e.onClick,qa:e.qa},e.text))}))}}])&&oe(n.prototype,r),a&&oe(n,a),t}(),ue=n(858),le=n(879),pe=n.n(le);function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e,t){return!t||"object"!==fe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function be(e){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ge=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=he(this,be(t).apply(this,arguments))).emailInput=o.a.createRef(),e.passwordInput=o.a.createRef(),e.state={showPassword:e.props.initialShowPassword},e.sendUserInfo=function(){var t,n=(t=regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.onGetUserInfo(n);case 2:if(!t.sent){t.next=6;break}return t.next=5,new Promise(function(t){return e.setState({showPassword:!0},t)});case 5:e.passwordInput.current.focus();case 6:case"end":return t.stop()}},t)}),function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(e){de(a,r,o,i,c,"next",e)}function c(e){de(a,r,o,i,c,"throw",e)}i(void 0)})});return function(e){return n.apply(this,arguments)}}(),e.sendSignin=function(t){t.preventDefault();var n=e.emailInput.current,r=e.passwordInput.current;if(e.state.showPassword){if(n.validate(!0).valid&&r.validate(!0).valid){var o=n.value.trim(),a=r.value;e.props.onSigninFormSubmit({email:o,password:a})}}else if(n.validate(!0).valid){var i=n.value.trim();e.sendUserInfo(i)}},e.handleOnChangeLinkClick=function(){e.setState({showPassword:!1}),e.passwordInput.current.setValue("")},e.handleChangeEmail=function(t){return e.props.handleChangeEmail&&e.props.handleChangeEmail(t)},e}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}(t,i["a"]),n=t,(r=[{key:"componentDidMount",value:function(){v.d.sharedSignInFormStepPageShow(Object(b.e)(this.getCtx()),location.href),this.checkPresetEmail()}},{key:"componentDidUpdate",value:function(e){this.props.email!==e.email&&this.checkPresetEmail()}},{key:"checkPresetEmail",value:function(){var e=this.props,t=e.email;e.disableEmailChange&&(this.emailInput.current.setValue(t||""),this.sendUserInfo(t||""))}},{key:"render",value:function(){var e=this.props,t=e.errorMessage,n=e.subtitle;return o.a.createElement(o.a.Fragment,null,this.title,n&&o.a.createElement("div",{className:pe.a.subtitle},n),o.a.createElement("div",{className:pe.a.space}),o.a.createElement(O.b,{show:!!t,animation:O.a.scrollIn},o.a.createElement(K.n,{qa:"txtLoginError",textAlign:"center",color:"red50"},t)),this.signinForm,o.a.createElement("div",null,this.links))}},{key:"signinForm",get:function(){var e=this.props.disableEmailChange,t=this.state.showPassword;return o.a.createElement("form",{onSubmit:this.sendSignin,noValidate:!0,className:pe.a.signinForm},o.a.createElement("div",{className:pe.a.emailInput},o.a.createElement(ue.a,{ref:this.emailInput,placeholder:"Email",type:"email",autoComplete:"email",validator:new Y.a(Y.c.email,this.getCtx().api.auth),initialValue:this.props.email,handleChange:this.handleChangeEmail,readOnly:!!e||t,changeLinkEnabled:!e,onChangeLinkClick:this.handleOnChangeLinkClick,qa:"email"})),o.a.createElement(ue.a,{className:t?pe.a.show:pe.a.hide,ref:this.passwordInput,placeholder:"Password",type:"password",validator:Y.h,qa:"password",readOnly:!1}),this.props.captchaBrandingNotice,o.a.createElement($.d,{multiplier:2}),o.a.createElement(_.c,{submit:!0,loading:this.props.loading,qa:"btnLogin",colorScheme:"green",size:"large",shape:"rect",className:pe.a.button},t?this.props.buttonCapture?this.props.buttonCapture:"Sign in":"Continue"))}},{key:"links",get:function(){var e=this.props,t=e.requestForgotPassword,n=e.hideSignupLink,r=e.signupRoute,a=e.requestSignupStep,i=[{text:"Can’t log in?",onClick:t,qa:"linkForgotPassword"}];return n||i.push({text:"Don’t have an account?",targetRoute:a?void 0:r||"signup",onClick:a,qa:"linkDontHaveAcc"}),o.a.createElement(se,{links:i})}},{key:"title",get:function(){var e=this.props.title;return o.a.createElement("div",{className:pe.a.title},void 0!==e?e:"Member Login")}}])&&me(n.prototype,r),a&&me(n,a),t}(),ve=Object(c.a)("userService")(Object(c.b)(ge)),we=n(118),Oe=n(880);function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e,t){return!t||"object"!==Ee(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _e(e,t){return(_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ce=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),je(this,ke(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}(t,i["a"]),n=t,(r=[{key:"componentDidMount",value:function(){v.d.sharedSignInFormStepPageShow(Object(b.e)(this.getCtx()),location.href)}},{key:"render",value:function(){var e=this.props,t=e.errorMessage,n=e.subtitle;return o.a.createElement(o.a.Fragment,null,this.title,n&&o.a.createElement("div",{className:pe.a.subtitle},n),o.a.createElement("div",{className:pe.a.space}),this.socialButtons,o.a.createElement(O.b,{show:!!t,animation:O.a.scrollIn},o.a.createElement(K.n,{qa:"txtLoginError",textAlign:"center",color:"red50"},t)),o.a.createElement("div",null,this.links))}},{key:"socialButtons",get:function(){var e=this;return o.a.createElement(Oe.a,{colorScheme:"gray",isPopup:!!this.props.socialPopup,handleAuthError:this.props.handleAuthError,handleAccept:this.props.handleAccept,handleReject:function(t,n){return e.props.handleReject(t,n.email)},disableSocialService:this.disabledSocialProviders,hideDelimiter:!0})}},{key:"disabledSocialProviders",get:function(){var e=this.props.userService.user;return p.c.filter(function(t){return t!==we.b[e.loginType]})}},{key:"links",get:function(){var e=[{text:"Can’t log in?",onClick:this.props.requestForgotPassword,qa:"linkForgotPassword"}];return o.a.createElement(se,{links:e})}},{key:"title",get:function(){var e=this.props.title;return o.a.createElement("div",{className:pe.a.title},void 0!==e?e:"Member Login")}}])&&Se(n.prototype,r),a&&Se(n,a),t}(),Pe=Object(c.a)("userService","userService")(Object(c.b)(Ce));function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Re(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e,t){return!t||"object"!==xe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Te(e,t){return(Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ae=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Ne(this,Ie(t).apply(this,arguments))).emailInput=o.a.createRef(),e.passwordInput=o.a.createRef(),e.state={showPassword:e.props.initialShowPassword},e.sendUserInfo=function(){var t,n=(t=regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.onGetUserInfo(n);case 2:if(!t.sent){t.next=6;break}return t.next=5,new Promise(function(t){return e.setState({showPassword:!0},t)});case 5:e.passwordInput.current.focus();case 6:case"end":return t.stop()}},t)}),function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(e){Re(a,r,o,i,c,"next",e)}function c(e){Re(a,r,o,i,c,"throw",e)}i(void 0)})});return function(e){return n.apply(this,arguments)}}(),e.sendSignin=function(t){t.preventDefault();var n=e.emailInput.current,r=e.passwordInput.current;if(e.state.showPassword){if(n.validate(!0).valid&&r.validate(!0).valid){var o=n.value.trim(),a=r.value;e.props.onSigninFormSubmit({email:o,password:a})}}else if(n.validate(!0).valid){var i=n.value.trim();e.sendUserInfo(i)}},e.handleOnChangeLinkClick=function(){e.setState({showPassword:!1}),e.passwordInput.current.setValue("")},e.handleChangeEmail=function(t){return e.props.handleChangeEmail&&e.props.handleChangeEmail(t)},e}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}(t,i["a"]),n=t,(r=[{key:"componentDidMount",value:function(){v.d.sharedSignInFormStepPageShow(Object(b.e)(this.getCtx()),location.href),this.checkPresetEmail()}},{key:"componentDidUpdate",value:function(e){this.props.email!==e.email&&this.checkPresetEmail()}},{key:"checkPresetEmail",value:function(){var e=this.props,t=e.email;e.disableEmailChange&&(this.emailInput.current.setValue(t||""),this.sendUserInfo(t||""))}},{key:"render",value:function(){var e=this.props,t=e.errorMessage,n=e.subtitle;return o.a.createElement(o.a.Fragment,null,this.title,n&&o.a.createElement("div",{className:pe.a.subtitle},n),o.a.createElement("div",{className:pe.a.space}),this.socialButtons,o.a.createElement(O.b,{show:!!t,animation:O.a.scrollIn},o.a.createElement(K.n,{qa:"txtLoginError",textAlign:"center",color:"red50"},t)),this.signinForm,o.a.createElement("div",null,this.links))}},{key:"socialButtons",get:function(){var e=this;return o.a.createElement(Oe.a,{colorScheme:"gray",isPopup:!!this.props.socialPopup,handleAuthError:this.props.handleAuthError,handleAccept:this.props.handleAccept,handleReject:function(t,n){return e.props.handleReject(t,n.email)},disableSocialService:this.props.disabledSocialProviders})}},{key:"signinForm",get:function(){var e=this.props.disableEmailChange,t=this.state.showPassword;return o.a.createElement("form",{onSubmit:this.sendSignin,noValidate:!0,className:pe.a.signinForm},o.a.createElement("div",{className:pe.a.emailInput},o.a.createElement(ue.a,{ref:this.emailInput,placeholder:"Email",autoComplete:"email",type:"email",validator:new Y.a(Y.c.email,this.getCtx().api.auth),initialValue:this.props.email,handleChange:this.handleChangeEmail,readOnly:!!e||t,changeLinkEnabled:!e,onChangeLinkClick:this.handleOnChangeLinkClick,qa:"email"})),o.a.createElement(ue.a,{className:t?pe.a.show:pe.a.hide,ref:this.passwordInput,placeholder:"Password",type:"password",validator:Y.h,qa:"password",readOnly:!1}),this.props.captchaBrandingNotice,o.a.createElement($.d,{multiplier:2}),o.a.createElement(_.c,{submit:!0,loading:this.props.loading,qa:"btnLogin",colorScheme:"green",size:"large",shape:"rect",className:pe.a.button},t?this.props.buttonCapture?this.props.buttonCapture:"Sign in":"Continue"))}},{key:"links",get:function(){var e=this.props,t=e.requestForgotPassword,n=e.hideSignupLink,r=e.signupRoute,a=e.requestSignupStep,i=[{text:"Can’t log in?",onClick:t,qa:"linkForgotPassword"}];return n||i.push({text:"Don’t have an account?",targetRoute:a?void 0:r||"signup",onClick:a,qa:"linkDontHaveAcc"}),o.a.createElement(se,{links:i})}},{key:"title",get:function(){var e=this.props.title;return o.a.createElement("div",{className:pe.a.title},void 0!==e?e:"Member Login")}}])&&Me(n.prototype,r),a&&Me(n,a),t}(),Fe=Object(c.a)("userService")(Object(c.b)(Ae));function Le(){return(Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function De(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var qe=function(e){var t=e.type,n=e.disabledSocialProviders,r=De(e,["type","disabledSocialProviders"]);return t===Q.SecureLogin?o.a.createElement(ve,r):t===Q.SocialReAuthentication?o.a.createElement(Pe,r):o.a.createElement(Fe,Le({disabledSocialProviders:n||[]},r))},Ve=n(891),Be=n(923),Ue=n.n(Be);function Ge(e){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function We(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Je(e,t){return!t||"object"!==Ge(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qe(e){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xe(e,t){return(Xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ze=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Je(this,Qe(t).apply(this,arguments))).nameInput=o.a.createRef(),e.emailInput=o.a.createRef(),e.passwordInput=o.a.createRef(),e.state={loading:!1,marketingEmailsEnabled:!1,errorMessage:""},e.sendSignup=function(t){t.preventDefault();var n=e.nameInput.current,r=e.emailInput.current,o=e.passwordInput.current;if(n.validate(!0).valid&&r.validate(!0).valid&&o.validate(!0).valid){e.setState({loading:!0,errorMessage:""}),Object(g.d)(g.a.signupAttempt,1,"counter"),Object(g.c)("performance","INFO","Metrics",He({},g.a.signupAttempt,1));var a={email_signup:{name:n.value,email:r.value.trim(),password:o.value}};e.isGDPR&&Object.assign(a,{custom_fields:{disableMarketingEmails:!e.state.marketingEmailsEnabled}}),e.props.userService.signup(a).then(function(){return e.handleAccept(e.props.userService.user,e.props.userService.lastAuthAction)}).catch(function(t){return e.handleReject(t,a.email_signup.email)})}},e.handleAccept=function(t,n){if(!(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).isSocial){var r=e.isGDPR&&!e.state.marketingEmailsEnabled;Object(g.d)(g.a.signupSuccess,1,"counter"),Object(g.c)("performance","INFO","Metrics",He({},g.a.signupSuccess,1)),v.d.sharedSignupFormSuccess(r,e.getCtx().nav.pageId)}e.props.handleAccept&&e.props.handleAccept(t,n)},e.handleReject=function(t,n){var r,o=Object(f.g)(t)||"";e.setState({loading:!1});var a=e.getCtx();v.d.sharedSignupFormFail(Object(b.c)(a),void 0,o),Object(g.d)(g.a.signupFail,1,"counter"),Object(g.c)("performance","INFO","Metrics",(He(r={},g.a.signupFail,1),He(r,"message",o),r));var i=Object(f.g)(t)||"",c=Object(d.i)(i),s=Object(f.c)(t);return c&&s?window.location.href=s:Object(d.a)(o)?e.emailInput.current.setValidation(!1,Object(Y.o)(n,void 0,e.props.requestSignin)):(e.setState({errorMessage:Object(d.c)(o)}),void(e.props.handleReject&&e.props.handleReject(t,n)))},e}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xe(e,t)}(t,i["a"]),n=t,(r=[{key:"componentDidMount",value:function(){v.d.sharedAccountCreationStepPageShow(Object(b.e)(this.getCtx()),location.href)}},{key:"componentDidUpdate",value:function(e){this.props.errorMessage!==e.errorMessage&&this.setState({errorMessage:this.props.errorMessage})}},{key:"toggleCheckbox",value:function(){this.setState(function(e){return{marketingEmailsEnabled:!e.marketingEmailsEnabled}})}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Ue.a.signupTitle},"Create Your Account"),this.socialButtons,this.state.errorMessage&&o.a.createElement("div",{className:Ue.a.errorMessage,"data-qa":"txtSignupError"},this.state.errorMessage),this.accountCreation,o.a.createElement($.d,{multiplier:2}),o.a.createElement(E.g,{isGdpr:this.isGDPR}),o.a.createElement(se,{className:Ue.a.bottomWrapper,links:[{text:"Already have an account?",qa:"linkSignin",onClick:this.props.requestSignin}]}))}},{key:"isGDPR",get:function(){return this.props.experimentsService.isGDPR}},{key:"socialButtons",get:function(){var e=this;return o.a.createElement(Oe.a,{isSignup:!0,isPopup:!!this.props.socialPopup,handleAuthError:this.props.handleAuthError,handleAccept:function(t,n){return e.handleAccept(t,n,{isSocial:!0})},handleReject:function(t,n){return e.handleReject(t,n.email)},enableMarketingEmails:this.isGDPR?this.state.marketingEmailsEnabled:void 0,disableSocialService:[].concat(We(this.props.disabledSocialProviders),[p.b.apple])})}},{key:"accountCreation",get:function(){var e=this;return o.a.createElement("form",{onSubmit:this.sendSignup,noValidate:!0,className:Ue.a.signupForm},o.a.createElement(ue.a,{ref:this.nameInput,placeholder:"Name",validator:new Y.a(Y.c.name,this.getCtx().api.auth),readOnly:!1,qa:"name"}),o.a.createElement(ue.a,{ref:this.emailInput,placeholder:"Email",type:"email",autoComplete:"email",validator:new Y.a(Y.c.email,this.getCtx().api.auth),initialValue:this.props.email,handleChange:function(t){return e.props.handleChangeEmail&&e.props.handleChangeEmail(t)},readOnly:!1,qa:"email"}),o.a.createElement(ue.a,{ref:this.passwordInput,placeholder:"Password",type:"password",validator:Y.h,qa:"password",readOnly:!1}),this.isGDPR&&o.a.createElement(Ve.a,{label:"Send me product updates, premium offers, and weekly progress reports.",toggleCheckbox:function(){return e.toggleCheckbox()},value:this.state.marketingEmailsEnabled,className:Ue.a.checkbox,colorScheme:"green",qa:"ckbxGdprEmails"}),this.props.captchaBrandingNotice,o.a.createElement($.d,{multiplier:2}),o.a.createElement(_.c,{submit:!0,loading:this.state.loading,qa:"btnSignUp",colorScheme:"green",size:"large",shape:"rect",className:Ue.a.button},"Sign up"))}}])&&ze(n.prototype,r),a&&ze(n,a),t}(),Ye=Object(c.a)("userService","experimentsService")(Object(c.b)(Ze)),Ke=n(14),$e=n(924),et=n.n($e);function tt(e){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rt(e,t){return!t||"object"!==tt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ot(e){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function at(e,t){return(at=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var it=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),rt(this,ot(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&at(e,t)}(t,i["b"]),n=t,(r=[{key:"componentDidMount",value:function(){v.d.sharedForgotEmailStepPageShow(Object(b.e)(this.getCtx()),location.href)}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(j.a,{className:et.a.backLink,onBeforeFollow:this.props.requestSignin,qa:"linkBackToLogin"},"< Back to login"),o.a.createElement("div",{className:et.a.subTitle},"Retrieving the email you used to sign up for Grammarly"),o.a.createElement("div",{className:et.a.text},"Search every email account you use for the word “Grammarly” to find any emails we’ve sent you.",o.a.createElement("b",null,"You can also try this:"),o.a.createElement("ul",null,o.a.createElement("li",null,"Try logging in with any and all email addresses / passwords you may have used to create an account, or that you regularly use elsewhere."),o.a.createElement("li",null,"Enter all email addresses you use into our password"," ",o.a.createElement(j.a,{className:et.a.link,onBeforeFollow:this.props.requestForgotPassword,qa:"linkForgotPassword"},"reset form")," ","(you must be logged out). If an account exists, you’ll receive an email with further details.")),"If you still can’t locate your Grammarly log-in details, please"," ",o.a.createElement(j.a,{className:et.a.link,target:"_blank",href:Object(Ke.a)().support.urls.newRequest},"contact support")," ","and provide the following information: last four digits of the credit card number you used for Grammarly, card network type (e.g., VISA), the charge date, the charge amount, your PayPal email address (if you paid with PayPal)."))}}])&&nt(n.prototype,r),a&&nt(n,a),t}(),ct=n(925),st=n.n(ct),ut=n(926),lt=n.n(ut),pt=n(927),ft=n.n(pt);function dt(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ht(e,t){return!t||"object"!==gt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bt(e){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yt(e,t){return(yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gt(e){return(gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var vt=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":gt(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},wt=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=ht(this,bt(t).apply(this,arguments))).emailInput=o.a.createRef(),e.passwordInput=o.a.createRef(),e.state={user:null},e.sendPasswordData=function(){var t,n=(t=regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),r=e.passwordInput.current.value,e.props.onSigninFormSubmit({email:e.state.user.email,password:r});case 3:case"end":return t.stop()}},t)}),function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(e){dt(a,r,o,i,c,"next",e)}function c(e){dt(a,r,o,i,c,"throw",e)}i(void 0)})});return function(e){return n.apply(this,arguments)}}(),e}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yt(e,t)}(t,i["a"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props.socialUserService.user||null;this.setState({user:e}),e&&e.email&&this.props.handleSetEmail(e.email),v.d.sharedSocialStepPageShow(Object(b.e)(this.getCtx()),location.href)}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,this.socialPasswordForm)}},{key:"socialPasswordForm",get:function(){var e=this.props.errorMessage,t=this.state.user;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:ft.a.title},"Member Login"),o.a.createElement("div",{className:ft.a.text},"Please provide the password you used to create your Grammarly account."),o.a.createElement("div",{className:ft.a.userInfo},t&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:ft.a.imgWrapper},o.a.createElement("img",{src:"facebook"===t.socialNetworkName?st.a:lt.a,className:ft.a.serviceIcon}),o.a.createElement("img",{src:t.avatar,className:ft.a.img})),o.a.createElement("div",{className:ft.a.name},t.name),o.a.createElement("div",{className:ft.a.email},t.email))),o.a.createElement("form",{onSubmit:this.sendPasswordData,noValidate:!0},e&&o.a.createElement("div",{className:ft.a.errorMessage},e),o.a.createElement(ue.a,{ref:this.passwordInput,validator:Y.h,type:"password",placeholder:"Password",qa:"socialPassword",autoFocus:!0}),o.a.createElement(_.c,{submit:!0,loading:this.props.loading,qa:"btnSocialNoPasswordLogin",colorScheme:"green",size:"large",shape:"rect",className:ft.a.button},"Sign in")),o.a.createElement(se,{links:[{text:"Forgot password?",onClick:this.props.requestForgotPassword}]}))}}])&&mt(n.prototype,r),a&&mt(n,a),t}();wt=vt([c.b],wt);var Ot=Object(c.a)("socialUserService")(wt),Et=n(95),St=n(928),jt=n.n(St);function kt(e){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ct(e,t){return!t||"object"!==kt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pt(e){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xt(e,t){return(xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Rt=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Ct(this,Pt(t).apply(this,arguments))).emailInput=o.a.createRef(),e.state={loading:!1,isError:!1,errorMessage:""},e.sendData=function(t){t.preventDefault();var n=e.emailInput.current;if(n.validate(!0).valid){e.setState({loading:!0,isError:!1});var r=n.value;e.getCtx().api.auth.resetPassword(r).catch(function(e){if(!Object(f.i)(e))throw e}).then(function(){e.trackAttempted(),v.d.sharedPasswordResetFormSuccess(Object(b.c)(e.getCtx())),e.setState({loading:!1}),e.props.notificationStore.pushSuccessNotification(o.a.createElement("span",null,"If there's a Grammarly account connected to this email address, we'll  email you password reset instructions.",o.a.createElement("br",null),"If you don't receive the email, please try again and  make sure you enter the email address associated with your Grammarly account.")),e.props.requestSignin()}).catch(function(t){return e.handleError(t)})}},e}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xt(e,t)}(t,i["a"]),n=t,(r=[{key:"componentDidMount",value:function(){v.d.sharedForgotPasswordStepPageShow(Object(b.e)(this.getCtx()),location.href)}},{key:"handleError",value:function(e){this.setState({loading:!1});var t=Object(f.g)(e)||"";v.d.sharedPasswordResetFormFail(Object(b.c)(this.getCtx()),[{fieldName:"email",errorMessage:t}],t),this.setState({isError:!0,errorMessage:"Something went wrong. Please try again."})}},{key:"trackAttempted",value:function(){Et.a.sendPageview("/NF:Password_Reset_Attempted")}},{key:"render",value:function(){var e=this.state,t=e.isError,n=e.errorMessage;return o.a.createElement("div",null,o.a.createElement("div",{className:jt.a.title},"Password Reset"),o.a.createElement("div",{className:jt.a.text},"Enter your email, and we’ll send you instructions on how to reset your password."),t&&o.a.createElement("div",{className:jt.a.errorMessage},n),this.forgotPasswordForm,this.links)}},{key:"forgotPasswordForm",get:function(){var e=this;return o.a.createElement("form",{onSubmit:this.sendData,className:jt.a.resetform,noValidate:!0},o.a.createElement(ue.a,{ref:this.emailInput,placeholder:"Email",type:"email",autoComplete:"email",validator:new Y.a(Y.c.email,this.getCtx().api.auth),initialValue:this.props.email,handleChange:function(t){return e.props.handleChangeEmail&&e.props.handleChangeEmail(t)},autoFocus:!0,qa:"resetEmail"}),o.a.createElement(_.c,{submit:!0,loading:this.state.loading,qa:"btnReset",colorScheme:"green",size:"large",shape:"rect",className:jt.a.button},"Send me reset instructions"))}},{key:"links",get:function(){var e=this.props,t=e.requestSignin,n=[{text:"Forgot email?",onClick:e.requestForgotEmail,qa:"linkForgotEmail"},{text:"Back to login",onClick:t,qa:"linkBackToLogin"}];return o.a.createElement(se,{className:jt.a.bottomWrapper,links:n})}}])&&_t(n.prototype,r),a&&_t(n,a),t}(),Mt=Object(c.a)("notificationStore")(Object(c.b)(Rt)),Nt=n(136);function It(e){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function At(e,t){return!t||"object"!==It(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ft(e){return(Ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lt(e,t){return(Lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Dt=Object(Ke.a)().recaptcha.url,qt=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=At(this,Ft(t).apply(this,arguments))).state={isReady:!1},e.buttonCaptchaOnLoad=function(){e.grecaptcha.render("g-recaptcha",{sitekey:e.props.sitekey,callback:"buttonCaptchaSuccess"}),e.grecaptcha.ready(function(){e.setState({isReady:!0})})},e.buttonCaptchaSuccess=function(t){e.props.onSuccess(t)},e}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lt(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"componentWillUnmount",value:function(){delete window.buttonCaptchaOnLoad,delete window.buttonCaptchaSuccess}},{key:"render",value:function(){return window.buttonCaptchaOnLoad=this.buttonCaptchaOnLoad,window.buttonCaptchaSuccess=this.buttonCaptchaSuccess,o.a.createElement(o.a.Fragment,null,o.a.createElement(Nt.a,null,o.a.createElement("script",{type:"text/javascript",src:"".concat(Dt,"?onload=buttonCaptchaOnLoad&render=explicit"),async:!0,defer:!0})),o.a.createElement("div",{id:"g-recaptcha","data-qa":"g-recaptcha"}),!this.state.isReady&&o.a.createElement(S.a,null))}},{key:"grecaptcha",get:function(){return window.grecaptcha}}])&&Tt(n.prototype,r),a&&Tt(n,a),t}(),Vt=n(929),Bt=n.n(Vt);function Ut(e){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wt(e,t){return!t||"object"!==Ut(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ht(e){return(Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zt(e,t){return(zt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Jt,Qt=Object(Ke.a)().support.urls.newRequest,Xt=Object(Ke.a)().recaptcha.loginFlow.sitekey,Zt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Wt(this,Ht(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zt(e,t)}(t,i["b"]),n=t,(r=[{key:"componentDidMount",value:function(){v.d.sharedCaptchaStepPageShow(Object(b.e)(this.getCtx()),location.href)}},{key:"render",value:function(){var e=this.props,t=e.onSuccess,n=e.captchaBadge;return o.a.createElement("div",null,o.a.createElement("div",{className:Bt.a.title},"Verify that you’re human"),o.a.createElement("div",{className:Bt.a.captchaWrapper},o.a.createElement(qt,{sitekey:Xt,onSuccess:t})),o.a.createElement("div",{className:Object(h.b)(Bt.a.instructionsText,Bt.a.narrowText)},"Please click the checkbox above to prove that you’re not a robot."),o.a.createElement("div",{className:Bt.a.supportLinkWrapper},o.a.createElement(j.a,{href:Qt,target:"_blank",className:Bt.a.supportLink},"Having trouble?")),o.a.createElement($.d,{multiplier:2}),n)}}])&&Gt(n.prototype,r),a&&Gt(n,a),t}(),Yt=n(889),Kt=n(888),$t=n(930),en=n.n($t),tn=n(931),nn=n.n(tn),rn=n(932),on=n.n(rn),an=n(933),cn=n.n(an),sn=n(934),un=n.n(sn),ln=n(935),pn=n.n(ln),fn=n(936),dn=n.n(fn),mn=n(937),hn=n.n(mn),bn=n(938),yn=n.n(bn),gn=n(939),vn=n.n(gn),wn=n(940),On=n.n(wn);function En(e){return(En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jn(e,t){return!t||"object"!==En(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function kn(e){return(kn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _n(e,t){return(_n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}!function(e){e.code="code",e.otherMethods="otherMethods"}(Jt||(Jt={}));var Cn=3e4,Pn=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=jn(this,kn(t).apply(this,arguments))).progress=o.a.createRef(),e.validator=new Y.a(Y.c.mfa,e.getCtx().api.auth),e.state={code:"",isValidationError:!1,isSaveBrowser:!0,disableResend:!1,lastDigits:e.props.mfaContext.last?e.props.mfaContext.last:"",disableSms:e.props.mfaContext.rateLimit,mfaModesEnabled:new Set(e.props.mfaContext.modes),method:e.props.mfaContext.modes[0],step:e.props.mfaContext.rateLimit?Jt.otherMethods:Jt.code},e.resendCode=function(){if(!e.state.disableResend){var t=e.props,n=t.onMfaSubmit,r=t.notificationStore,a=t.email,i=s.b.MfaSettings.Mode.email===e.state.method;n({mode:e.state.method}),r.pushSuccessNotification(o.a.createElement("span",null,"A new ",i?"email":"text message"," with a verification code was just sent to"," ",o.a.createElement("span",{className:pn.a.resendableMode},i?a:e.phoneNumber,"."))),e.startCountdown()}},e.startCountdown=function(){e.setState({disableResend:!0}),e.progress.current&&e.progress.current.startAnimation(),e.timeoutId=window.setTimeout(function(){return e.setState({disableResend:!1})},Cn)},e.sendData=function(t){t.preventDefault();var n=e.state,r=n.code,o=n.isSaveBrowser,a=e.props.isSecureLogin;e.validator.validate(r).valid?e.props.onMfaSubmit({code:r,rememberDevice:o,mode:e.state.method,secureLogin:a}):e.setState({isValidationError:!0})},e.switchModes=function(t){e.props.resetError(),t===s.b.MfaSettings.Mode.phone&&e.props.onMfaSubmit({mode:t})},e.onItemClick=function(t){t.tracking&&t.tracking(),t.method?(e.setState({step:Jt.code,method:t.method}),e.setState({isValidationError:!1}),e.switchModes(t.method)):t.action&&t.action()},e}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_n(e,t)}(t,i["a"]),n=t,(r=[{key:"componentDidMount",value:function(){v.d.sharedMfaStepPageShow(Object(b.e)(this.getCtx()),location.href),this.startCountdown()}},{key:"componentDidUpdate",value:function(e,t){this.state.step!==t.step&&this.startCountdown()}},{key:"componentWillUnmount",value:function(){this.timeoutId&&clearTimeout(this.timeoutId)}},{key:"render",value:function(){var e=this.state.step;return o.a.createElement("form",{onSubmit:this.sendData,className:pn.a.mfaForm},o.a.createElement("div",{className:pn.a.title},this.title),o.a.createElement("div",{className:pn.a.subtitle},this.subtitleContent),e===Jt.code?this.codeForm:this.otherMethod)}},{key:"phoneNumber",get:function(){var e=this.state.lastDigits;return"(•••) •••-••".concat(e)}},{key:"isResendableCode",get:function(){return this.state.method===s.b.MfaSettings.Mode.phone||this.state.method===s.b.MfaSettings.Mode.email}},{key:"regularCode",get:function(){var e=this,t=this.props,n=t.errorMessage,r=t.email,a=this.state,i=a.isValidationError,c=a.isSaveBrowser,u=a.method,l=s.b.MfaSettings.Mode.email===u;return o.a.createElement(o.a.Fragment,null,o.a.createElement("img",{src:l?vn.a:yn.a,className:pn.a.mfaIllustration}),o.a.createElement(Kt.a,{onChange:function(t){return e.setState({code:t,isValidationError:!1})}}),(n||i)&&o.a.createElement("div",{className:pn.a.errorWrapper},o.a.createElement("div",{className:pn.a.errorMessage},"Invalid code. Please try again.")),o.a.createElement("div",{className:pn.a.instructionsText},this.isResendableCode?o.a.createElement(o.a.Fragment,null,"Verification code was sent to"," ",o.a.createElement("span",{className:pn.a.resendableMode},l?r:this.phoneNumber,"."),o.a.createElement("br",null),"Enter the code above to continue."):"Enter verification code from Authenticator App.",o.a.createElement($.d,{multiplier:1})),!l&&o.a.createElement(Ve.a,{value:c,toggleCheckbox:function(){return e.setState({isSaveBrowser:!c})},label:"Don’t ask again on this device",colorScheme:"white",className:pn.a.checkbox}))}},{key:"backupCode",get:function(){var e=this,t=this.props.errorMessage,n=this.state,r=n.isValidationError,a=n.isSaveBrowser;return o.a.createElement(o.a.Fragment,null,o.a.createElement("img",{src:On.a,className:pn.a.backupIllustration}),o.a.createElement("input",{className:pn.a.input,autoFocus:!0,type:"text",pattern:"[A-Za-z0-9]*",autoComplete:"one-time-code",onChange:function(t){return e.setState({code:t.target.value})},inputMode:"text",placeholder:"Backup code","data-qa":"inputCode"}),t&&r&&o.a.createElement("div",{className:pn.a.errorMessage},"Invalid code. Please try again."),o.a.createElement("div",{className:pn.a.instructionsText},"Enter one of the backup codes you previously created."),o.a.createElement(Ve.a,{value:a,toggleCheckbox:function(){return e.setState({isSaveBrowser:!a})},label:"Don’t ask for codes on this browser",colorScheme:"white",className:pn.a.checkbox}))}},{key:"codeForm",get:function(){var e=this,t=this.props.loading,n=this.state,r=n.disableResend,a=n.method,i=s.b.MfaSettings.Mode.email===a;return o.a.createElement(o.a.Fragment,null,a===s.b.MfaSettings.Mode.backup?this.backupCode:this.regularCode,o.a.createElement(_.c,{submit:!0,loading:t,qa:"btnLogin",colorScheme:"green",size:"large",shape:"rect",className:pn.a.button},i?"Next":"Sign in securely"),o.a.createElement("div",{className:pn.a.links},this.isResendableCode&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Yt.a,{radius:8,interval:Cn,className:r?pn.a.progress:pn.a.hide,ref:this.progress}),o.a.createElement(j.a,{className:r?pn.a.disabledLink:pn.a.link,onBeforeFollow:function(){v.d.sharedResendSMSCodeButtonClick(Object(b.c)(e.getCtx())),e.resendCode()}},"Resend the code"),o.a.createElement("div",{className:pn.a.tooltip},"Please wait 30 seconds to resend the code."),o.a.createElement(o.a.Fragment,null,"  ·  ")),i?o.a.createElement(j.a,{className:pn.a.link,onBeforeFollow:function(){v.d.sharedEmailVerificationContactSupportButtonClick(Object(b.c)(e.getCtx()))},href:Object(Ke.a)().support.urls.newRequest,target:"_blank"},"Contact support"):o.a.createElement(j.a,{className:pn.a.link,qa:"tryAnotherWay",onBeforeFollow:function(){v.d.sharedTryAnotherWayMfaButtonClick(Object(b.c)(e.getCtx())),e.setState({step:Jt.otherMethods})}},"Try another way")))}},{key:"otherMethod",get:function(){var e=this,t=Object(b.c)(this.getCtx()),n=this.state,r=n.mfaModesEnabled,a=n.disableSms;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:pn.a.tryOtherMethodTitle},"Try another way to sign in"),[a?{className:pn.a.disabledMethod,icon:dn.a,name:"Get a verification code at ".concat(this.phoneNumber),text:o.a.createElement(o.a.Fragment,null,o.a.createElement("img",{src:nn.a}),"Too many verification codes already sent.")}:r.has(s.b.MfaSettings.Mode.phone)&&{icon:en.a,method:s.b.MfaSettings.Mode.phone,name:"Get a verification code at ".concat(this.phoneNumber),text:"Standard messaging rates apply",tracking:function(){return v.d.sharedSmsMethodButtonClick(t)}},r.has(s.b.MfaSettings.Mode.totp)&&{icon:cn.a,method:s.b.MfaSettings.Mode.totp,name:"Verify with an app",qa:"useVerificationCode",text:"Get a verification from an authentication app",tracking:function(){return v.d.sharedTotpMethodButtonClick(t)}},{icon:hn.a,method:s.b.MfaSettings.Mode.backup,name:"Enter a backup code",qa:"enterBackupCode",text:"Use previously saved backup codes to sign in",tracking:function(){return v.d.sharedBackupCodeMethodButtonClick(t)}},{icon:un.a,name:"Contact Support",text:"Please allow several business days for a response.",tracking:function(){return v.d.sharedContactSupportMethodButtonClick(t)},action:this.props.showSupport}].map(function(t,n){return t?o.a.createElement("div",{className:Object(h.b)(pn.a.method,t.className),key:n,onClick:function(){e.onItemClick(t)},"data-qa":t.qa},o.a.createElement("div",{className:pn.a.iconWrapper},o.a.createElement("img",{src:t.icon})),o.a.createElement("div",{className:pn.a.methodInfo},o.a.createElement("div",{className:pn.a.methodName},t.name),o.a.createElement("div",{className:pn.a.methodText},t.text)),o.a.createElement("img",{src:on.a})):null}))}},{key:"title",get:function(){return s.b.MfaSettings.Mode.email===this.state.method?"Verify that it's you":"Two-Step Verification"}},{key:"subtitleContent",get:function(){var e=this.props,t=e.email,n=e.backToSignin,r=e.isSecureLogin;return o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:pn.a.emailLabel},"You're signing in as"),o.a.createElement("span",{className:pn.a.email},t),!r&&o.a.createElement(j.a,{className:pn.a.changeEmail,onBeforeFollow:n},"Change"))}}])&&Sn(n.prototype,r),a&&Sn(n,a),t}(),xn=Object(c.a)("notificationStore")(Object(c.b)(Pn)),Rn=n(291),Mn=n(47),Nn=n(896),In=n(866),Tn=n(877);function An(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?An(Object(n),!0).forEach(function(t){Ln(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):An(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ln(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qn(e){return(qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Vn,Bn,Un=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":qn(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},Gn=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":qn(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Wn=function(){function e(t,n,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ctx=t,this.resetError=n,this.stepModel=r,this.step=Tn.a.loading,this.fromSecureLogin=!1,this.initializeFirstStep=function(t,n){var r=o.ctx.nav.query.step;o.step=e.FirstStep(r,t,n,o.stepOverride)},this.goToStep=function(e){var t=o.ctx.nav.waypoint,n=t.routeId,r=t.query;o.resetError();var a=o.stepModel.navigateTo(o.step,e);o.step=a;var i={step:a};o.ctx.nav.navigate({routeId:n,query:Fn({},r,{},i)})},this.goToSignin=function(){return o.goToStep(Tn.a.signinForm)},this.goToForgotPassword=function(){return o.goToStep(Tn.a.forgotPassword)},this.goToSupport=function(){return o.goToStep(Tn.a.support)},this.goToAccountCreation=function(){return o.goToStep(Tn.a.accountCreation)},this.goToForgotEmail=function(){return o.goToStep(Tn.a.forgotEmail)},this.goToLoading=function(){return o.goToStep(Tn.a.loading)},this.goToCaptcha=function(){return o.goToStep(Tn.a.captcha)},this.goToMfa=function(){o.step===Tn.a.secureLogin&&(o.fromSecureLogin=!0),o.goToStep(Tn.a.mfa)},this.goToSocial=function(){return o.goToStep(Tn.a.social)},this.goToChangeEmail=function(){return o.goToStep(Tn.a.changeEmail)},this.goToVerifyEmailFromChangeEmail=function(){o.resetError();var e=o.stepModel.navigateTo(o.step,Tn.a.emailVerification);o.step=e},this.stepOverride=r.overrideFirstStep}var t,n,r;return t=e,(n=[{key:"isSecureLogin",get:function(){return this.step===Tn.a.secureLogin||this.fromSecureLogin&&this.step===Tn.a.mfa}}])&&Dn(t.prototype,n),r&&Dn(t,r),e}();Wn.FirstStep=function(e,t,n,r){switch(e){case Tn.a.forgotEmail:return Tn.a.forgotEmail;case Tn.a.forgotPassword:return Tn.a.forgotPassword;case Tn.a.emailVerification:return Tn.a.emailVerification;case Tn.a.accountCreation:return n===In.b.buildIn?Tn.a.accountCreation:Tn.a.signinForm;default:var o=r||Tn.a.signinForm;return t?Tn.a.oAuthConsent:o}},Un([a.observable,Gn("design:type","function"==typeof(Vn=void 0!==Tn.a&&Tn.a)?Vn:Object)],Wn.prototype,"stepOverride",void 0),Un([a.observable,Gn("design:type","function"==typeof(Bn=void 0!==Tn.a&&Tn.a)?Bn:Object)],Wn.prototype,"step",void 0),Un([a.observable,Gn("design:type",Object)],Wn.prototype,"fromSecureLogin",void 0),Un([a.action,Gn("design:type",Object)],Wn.prototype,"initializeFirstStep",void 0),Un([a.action,Gn("design:type",Object)],Wn.prototype,"goToStep",void 0);var Hn=n(886);function zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Jn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zn(Object(n),!0).forEach(function(t){Xn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Qn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Xn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zn(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Yn(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Zn(a,r,o,i,c,"next",e)}function c(e){Zn(a,r,o,i,c,"throw",e)}i(void 0)})}}function Kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $n(e){return($n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var er=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":$n(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},tr=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":$n(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},nr=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ctx=t,this.getProps=n,this.loading=!1,this.errorMsg=null,this.email="",this.password="",this.setError=function(e){if("boolean"==typeof e)return r.errorMsg=!!e||void 0;r.errorMsg=e},this.setEmail=function(e){var t=Object(Mn.c)("socialEmail")||"",n=r.signinProps.userService,o=e||(n.user.email&&!n.user.anonymous?n.user.email:t);r.email=o},this.setPassword=function(e){return r.password=e},this.resetError=function(){return r.errorMsg=void 0},this.setLoading=function(e){return r.loading=e},this.initializeSteps=function(){var e=r.ctx.nav.query.authMethod,t=r.oAuth.isActive&&!r.signinProps.userService.user.isAnonymous&&!e,n=r.signinProps.signupFlow;r.stepViewModel.initializeFirstStep(t,n)},this.onGetUserInfo=function(){var e=Yn(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.setLoading(!0),r.errorMsg=null,e.next=4,r.signinProps.userService.getAuthInfo(t);case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0={};case 7:n=e.t0,e.t1=n.loginType,e.next=e.t1===Rn.a.sso?11:e.t1===Rn.a.apple?14:e.t1===Rn.a.facebook?15:e.t1===Rn.a.google?16:17;break;case 11:return o=n,window.location.href=Object(y.b)(o.ssoLoginURL,{originalLocation:btoa(Object(y.b)(document.URL,{is_sso:!0}))}),e.abrupt("return",!1);case 14:return e.abrupt("return",r.handleSocialUserInfo(p.b.apple,f.a.useApple));case 15:return e.abrupt("return",r.handleSocialUserInfo(p.b.facebook,f.a.useFacebook));case 16:return e.abrupt("return",r.handleSocialUserInfo(p.b.google,f.a.useGoogle));case 17:return r.setLoading(!1),e.abrupt("return",!0);case 19:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.handleLoginAccept=function(e,t,n,o,a){var i=Object(b.c)(r.ctx),c=e.email;r.setLoading(!1),"SIGNUP"===t?(Object(Nn.b)(e),Object(g.d)(g.a.signupSuccess,1,"counter"),Object(g.c)("performance","INFO","Metrics",Xn({},g.a.signupSuccess,1))):(Object(Nn.c)(c),v.d.sharedSigninFormSuccess(i,a,n||r.signinProps.placement,o),Object(g.d)(g.a.signinSuccess,1,"counter"),Object(g.c)("performance","INFO","Metrics",Xn({},g.a.signinSuccess,1))),r.handleAccept(e,t)},this.handleAccept=function(e,t){if(r.oAuth.isActive)return r.handleOAuthAccept(e,t);r.signinProps.handleAccept&&r.signinProps.handleAccept(e,t||"SIGNIN")},this.handleOAuthAccept=function(){var e=Yn(regeneratorRuntime.mark(function e(t,n){var o,a,i,c,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.oAuth,a=o.isActive,i=Qn(o,["isActive"]),!a){e.next=11;break}if(c=i.clientId,s=i.codeChallenge,!i.isAutoRedirectDisabled||!r.signinProps.handleAccept){e.next=10;break}return e.next=6,Object(D.e)(r.ctx.api,c,s);case 6:u=e.sent,r.signinProps.handleAccept(t,n||"SIGNIN",u),e.next=11;break;case 10:return e.abrupt("return",Object(D.d)(r.ctx.api,c,s,r.usePostMessage));case 11:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),this.handleSuccessfulStep=function(){var e=r.signinProps.userService,t=e.user,n=e.lastAuthAction;return r.handleAccept(t,n)},this.stepViewModel=new Wn(t,this.resetError,this.signinProps.stepModel||new Tn.b),this.setEmail(this.signinProps.prepopulatedEmail),this.emailVerificationViewModel=new Hn.c(this.handleSuccessfulStep,this.ctx,this.setPassword,this.stepViewModel.goToChangeEmail,function(){return r.email},function(){return r.password},this.stepViewModel.goToVerifyEmailFromChangeEmail,this.stepViewModel.goToSignin)}var t,n,r;return t=e,(n=[{key:"handleSocialUserInfo",value:function(e,t){return this.disabledSocialProviders.includes(e)?this.oAuth.isActive?(this.stepViewModel.goToLoading(),Object(D.f)(this.oAuth.codeChallenge,e),!1):(this.setLoading(!1),!0):(this.errorMsg=Object(d.b)(t),this.setLoading(!1),!1)}},{key:"signinProps",get:function(){return this.getProps()}},{key:"step",get:function(){return this.stepViewModel.step}},{key:"oAuth",get:function(){var e=this.signinProps,t=e.isOAuthAllowed,n=e.isOAuthAutoRedirectDisabled;return t&&Object(D.c)(this.ctx)?Jn({isActive:!0,isAutoRedirectDisabled:n},Object(D.a)(this.ctx)):{isActive:!1}}},{key:"disabledSocialProviders",get:function(){return this.signinProps.disabledSocialProviders||[]}},{key:"usePostMessage",get:function(){return"true"===this.ctx.nav.query.use_postmessage}},{key:"isSecureLogin",get:function(){return!!this.ctx.nav.query.secureLogin||this.stepViewModel.isSecureLogin}},{key:"isError",get:function(){return!!this.errorMsg}},{key:"signinFormProps",get:function(){var e=this.signinProps,t=e.title,n=e.subtitle,r=e.prepopulatedEmail,o=e.signupFlow,a=e.buttonCapture,i=e.userService,c={title:t,subtitle:n,disableEmailChange:!!r,disabledSocialProviders:this.disabledSocialProviders,hideSignupLink:o===In.b.disabled,buttonCapture:a,email:this.email,handleChangeEmail:this.setEmail,onGetUserInfo:this.onGetUserInfo,isSecureLogin:this.isSecureLogin,requestForgotPassword:this.stepViewModel.goToForgotPassword,errorMessage:this.errorMsg,handleAccept:this.handleLoginAccept,type:Q.Standard};return this.oAuth.isActive?Jn({},c,{title:"Sign In",subtitle:"to continue to Grammarly"}):this.isSecureLogin?Jn({},c,{title:"Verify that it's you",subtitle:"to continue to Grammarly account settings",disableEmailChange:!0,hideSignupLink:!0,buttonCapture:"Next",disabledSocialProviders:void 0,type:i.user.isSocial?Q.SocialReAuthentication:Q.SecureLogin}):c}}])&&Kn(t.prototype,n),r&&Kn(t,r),e}();er([a.observable,tr("design:type",Object)],nr.prototype,"loading",void 0),er([a.observable,tr("design:type",Object)],nr.prototype,"errorMsg",void 0),er([a.observable,tr("design:type",Object)],nr.prototype,"email",void 0),er([a.observable,tr("design:type",Object)],nr.prototype,"password",void 0),er([a.computed,tr("design:type",Object),tr("design:paramtypes",[])],nr.prototype,"step",null),er([a.action,tr("design:type",Object)],nr.prototype,"setError",void 0),er([a.action,tr("design:type",Object)],nr.prototype,"setEmail",void 0),er([a.action,tr("design:type",Object)],nr.prototype,"setPassword",void 0),er([a.action,tr("design:type",Object)],nr.prototype,"resetError",void 0),er([a.action,tr("design:type",Object)],nr.prototype,"setLoading",void 0),er([a.computed,tr("design:type",Object),tr("design:paramtypes",[])],nr.prototype,"signinFormProps",null);var rr=n(941),or=n(139);function ar(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}var ir=function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"1",n=Date.now(),e.t0="1."+n.toString(32)+".",e.next=5,Object(or.a)(n.toString()+t);case 5:return e.t1=e.sent,e.abrupt("return",e.t0+e.t1);case 7:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){ar(a,r,o,i,c,"next",e)}function c(e){ar(a,r,o,i,c,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}(),cr=n(944),sr=n.n(cr),ur=n(945),lr=n.n(ur);function pr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function fr(){return(fr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function dr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function mr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dr(Object(n),!0).forEach(function(t){hr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function hr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function br(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function yr(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){br(a,r,o,i,c,"next",e)}function c(e){br(a,r,o,i,c,"throw",e)}i(void 0)})}}function gr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vr(e,t){return!t||"object"!==Er(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wr(e){return(wr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Or(e,t){return(Or=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Er(e){return(Er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Sr=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Er(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},jr=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":Er(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},kr=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=vr(this,wr(t).apply(this,arguments))).viewModel=new nr(e.getCtx(),function(){return e.props}),e.state={mfaContext:{modes:[s.b.MfaSettings.Mode.phone],last:"",rateLimit:!1}},e.onCaptchaSuccess=function(){var t=yr(regeneratorRuntime.mark(function t(n){var r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getCtx().api.auth.captchaVerify(n);case 3:return r=t.sent,o=r.captchaToken,t.next=7,e.sendData({captchaToken:o});case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),e.handleReject(t.t0);case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}(),e.sendData=function(){var t=yr(regeneratorRuntime.mark(function t(n){var r,o,a,i,c,s,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.props,o=r.userService,a=r.captchaEnterprise,i=n.email?n.email:e.viewModel.email,c=n.captchaToken||e.state.captchaToken){t.next=12;break}return t.prev=4,t.next=7,a.execute();case 7:s=t.sent,t.next=12;break;case 10:t.prev=10,t.t0=t.catch(4);case 12:return t.t1=i,t.t2=n.password?n.password:e.viewModel.password,t.t3=n.code,t.t4=n.rememberDevice,t.t5=n.secureLogin?n.secureLogin:e.viewModel.isSecureLogin,t.t6=n.mode,t.t7=c,t.t8=s,t.next=22,ir(i);case 22:if(t.t9=t.sent,u={email:t.t1,password:t.t2,code:t.t3,rememberDevice:t.t4,secureLogin:t.t5,mode:t.t6,captchaToken:t.t7,captchaTokenV3:t.t8,ch:t.t9},v.d.sharedSigninSubmitButtonClick(Object(b.c)(e.getCtx())),u.email.length&&u.password.length){t.next=27;break}return t.abrupt("return",e.viewModel.setError(!0));case 27:e.setState({captchaToken:u.captchaToken}),e.viewModel.setPassword(u.password),e.viewModel.setEmail(u.email),e.viewModel.resetError(),e.viewModel.setLoading(!0),Object(g.d)(g.a.signinAttempt,1,"counter"),Object(g.c)("performance","INFO","Metrics",hr({},g.a.signinAttempt,1)),e.props.handleAttempt&&e.props.handleAttempt(),o.login({email_login:u}).then(function(){return e.viewModel.handleLoginAccept(o.user,o.lastAuthAction,void 0,u.rememberDevice,u.mode)}).catch(function(t){return e.handleReject(t,u.email)});case 36:case"end":return t.stop()}},t,null,[[4,10]])}));return function(e){return t.apply(this,arguments)}}(),e.handleAuthError=function(t){var n=Object(f.g)(t),r=e.viewModel.stepViewModel.goToSocial;if(n===u.a.useEmailLogin)return r();e.handleReject(t)},e.handleReject=function(t,n){if(e.viewModel.setLoading(!1),!t)return e.viewModel.resetError();var r=e.getCtx(),o=Object(b.c)(r),a=Object(f.g)(t)||"",i=Object(d.j)(a),c=Object(d.l)(a),s=Object(d.k)(a),u=c||s||i,l=c?p.b.google:s?p.b.facebook:p.b.apple,m=u&&e.viewModel.disabledSocialProviders.includes(l),h=Object(d.h)(a),w=e.viewModel.stepViewModel,O=w.goToLoading,E=w.goToCaptcha,S=w.goToSignin,j=w.goToAccountCreation,k=w.goToForgotPassword,_=w.goToMfa;if(m&&e.viewModel.oAuth.isActive)O(),Object(D.f)(e.viewModel.oAuth.codeChallenge,l);else if(h)e.setState({captchaToken:void 0}),E();else{var C=Object(d.e)(a),P=Object(d.g)(a),x=Object(f.c)(t),R=x?Object(y.b)(x,{originalLocation:btoa(Object(y.b)(document.URL,{is_sso:!0}))}):"";if((P&&e.viewModel.step!==Tn.a.mfa||u||!C&&e.viewModel.step===Tn.a.captcha)&&S(),e.viewModel.setError(!C&&Object(d.b)(a,{onForgotPassword:k,onSignup:e.props.signupFlow===In.b.buildIn?j:void 0,ssoRedirectLink:R})),e.viewModel.setEmail(n||""),C){var M=Object(f.e)(t);P&&e.viewModel.setError(Object(d.b)(a)),e.setState({mfaContext:mr({},M,{rateLimit:P})}),_()}else if(e.viewModel.isError){var N;v.d.sharedSigninFormFail(o,void 0,a,e.props.placement),Object(g.d)(g.a.signinFail,1,"counter"),Object(g.c)("performance","INFO","Metrics",(hr(N={},g.a.signinFail,1),hr(N,"message",a),N)),e.props.handleReject&&e.props.handleReject(a,n)}}},e}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Or(e,t)}(t,i["a"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=yr(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("true"!==this.getCtx().nav.query.is_sso){e.next=7;break}return e.next=4,Object(m.a)(300);case 4:return Object(l.b)(),t=this.props.userService,n=t.user,r=t.lastAuthAction,e.abrupt("return",this.viewModel.handleLoginAccept(n,r));case 7:return e.abrupt("return",this.viewModel.initializeSteps());case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){e.prepopulatedEmail!==this.props.prepopulatedEmail&&this.viewModel.setEmail(this.props.prepopulatedEmail)}},{key:"render",value:function(){var e=this.props,t=e.displayType,n=e.closePopup;switch(t){case In.a.popup:return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Object(h.b)(lr.a.form,this.props.className)},o.a.createElement("div",{className:lr.a.gradientLine}),n&&o.a.createElement("img",{src:sr.a,className:lr.a.close,onClick:n}),o.a.createElement("div",{className:lr.a.content},this.content)),this.tos);case In.a.buildIn:return o.a.createElement("div",{className:Object(h.b)(lr.a.content,lr.a.buildIn,this.props.className)},this.content,o.a.createElement("div",{className:lr.a.mobileTosContainer},this.tos));default:return o.a.createElement("div",{className:this.props.className},o.a.createElement("div",{className:lr.a.form},o.a.createElement("div",{className:lr.a.gradientLine}),o.a.createElement("div",{className:lr.a.content},this.content)),this.tos)}}},{key:"isLoading",get:function(){return this.props.captchaEnterprise.loading||this.viewModel.loading}},{key:"signin",get:function(){var e=this.props,t=e.signupFlow,n=e.signupRoute,r=e.captchaEnterprise,a=e.socialFlowType,i=this.viewModel.stepViewModel.goToAccountCreation;return o.a.createElement(qe,fr({onSigninFormSubmit:this.sendData,handleReject:this.handleReject,handleAuthError:this.handleAuthError,loading:this.isLoading,captchaBrandingNotice:r.brandingNotice,socialPopup:a!==In.c.redirect,requestSignupStep:t===In.b.buildIn?i:void 0,signupRoute:n,initialShowPassword:!!this.viewModel.password},this.viewModel.signinFormProps))}},{key:"steps",get:function(){var e,t=this,n=this.props,r=n.socialFlowType,a=n.captchaEnterprise,i=this.viewModel.oAuth.clientId,c=this.viewModel,s=c.errorMsg,u=c.stepViewModel,l=c.email,p=c.setEmail,d=c.emailVerificationViewModel,m=u.goToForgotPassword,h=u.goToSignin,b=u.goToSupport,y=u.goToForgotEmail;return hr(e={},Tn.a.signinForm,this.signin),hr(e,Tn.a.secureLogin,this.signin),hr(e,Tn.a.mfa,o.a.createElement(xn,{email:l,onMfaSubmit:this.sendData,loading:this.isLoading,errorMessage:s,backToSignin:h,showSupport:b,mfaContext:this.state.mfaContext,isSecureLogin:this.viewModel.isSecureLogin,resetError:this.viewModel.resetError})),hr(e,Tn.a.social,o.a.createElement(Ot,{onSigninFormSubmit:this.sendData,handleSetEmail:p,loading:this.isLoading,requestForgotPassword:m,errorMessage:s})),hr(e,Tn.a.accountCreation,o.a.createElement(Ye,{email:l,requestSignin:h,handleChangeEmail:p,handleAccept:this.viewModel.handleAccept,handleReject:function(e){t.props.handleReject&&t.props.handleReject(Object(f.g)(e)||"")},handleAuthError:this.handleAuthError,disabledSocialProviders:this.viewModel.disabledSocialProviders,socialPopup:r!==In.c.redirect,errorMessage:s,captchaBrandingNotice:a.brandingNotice})),hr(e,Tn.a.forgotPassword,o.a.createElement(Mt,{requestSignin:h,requestForgotEmail:y,email:l,handleChangeEmail:p})),hr(e,Tn.a.forgotEmail,o.a.createElement(it,{requestSignin:h,requestForgotPassword:m})),hr(e,Tn.a.emailVerification,o.a.createElement(L.a,{viewModel:d})),hr(e,Tn.a.changeEmail,o.a.createElement(rr.a,{viewModel:d})),hr(e,Tn.a.support,o.a.createElement(F,{email:l,backToSignin:h})),hr(e,Tn.a.oAuthConsent,o.a.createElement(Z,{clientId:i,onRequestSignin:h,onAuthorize:this.viewModel.handleOAuthAccept})),hr(e,Tn.a.captcha,o.a.createElement(Zt,{onSuccess:this.onCaptchaSuccess,captchaBadge:a.brandingNotice})),hr(e,Tn.a.loading,o.a.createElement(S.a,{className:lr.a.loader})),e}},{key:"content",get:function(){var e=this.viewModel.step;return o.a.createElement(o.a.Fragment,null,Object.entries(this.steps).map(function(t){var n=pr(t,2),r=n[0],a=n[1];return o.a.createElement(O.b,{show:r===e,key:r,animation:O.a.fadeIn},a)}))}},{key:"tos",get:function(){var e=this.viewModel.step;return e===Tn.a.signinForm||e===Tn.a.social?o.a.createElement("div",{className:lr.a.tos},o.a.createElement(E.h,null)):null}}])&&gr(n.prototype,r),a&&gr(n,a),t}();Sr([a.computed,jr("design:type",Object),jr("design:paramtypes",[])],kr.prototype,"isLoading",null),Sr([a.computed,jr("design:type",Object),jr("design:paramtypes",[])],kr.prototype,"content",null),kr=Sr([c.b],kr);t.a=Object(w.a)(Object(c.a)("userService")(kr))},910:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(1),o=n.n(r),a=n(136),i=n(14),c=n(162),s=n(185),u=n(911),l=n(912);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f=Object(i.a)().recaptcha,d={enterpriseKey:f.enterprise.sitekey,enterpriseUrl:f.enterpriseUrl,globalEnterpriseUrl:f.globalEnterpriseUrl},m=new l.a(d,u.b);function h(e){return function(t){var n=Object(s.d)(),i=m.hasCaptchaScript(),l=m.getFullUrl(n.isActive(c.c.CaptchaEnterpriseSource.groups.useGlobal));return Object(r.useEffect)(function(){return m.init(),function(){m.cleanup()}},[m,i,n]),o.a.createElement(o.a.Fragment,null,o.a.createElement(a.a,null,!i&&o.a.createElement("script",{"data-key":"captcha",type:"text/javascript",src:l,defer:!0,async:!0}),o.a.createElement("style",{"data-key":"captcha-style",type:"text/css"},".grecaptcha-badge { visibility: hidden; }")),o.a.createElement(u.a,{captcha:m},function(n){return o.a.createElement(e,p({},t,{captchaEnterprise:n}))}))}}m.addOnLoadHook()},911:function(e,t,n){"use strict";(function(e){n.d(t,"b",function(){return m}),n.d(t,"a",function(){return h});var r=n(1),o=n.n(r),a=n(19),i=n(955);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){s(a,r,o,i,c,"next",e)}function c(e){s(a,r,o,i,c,"throw",e)}i(void 0)})}}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m="signin/signup",h=function(t){function n(){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=p(this,f(n).apply(this,arguments))).state={loading:!1},t.executeCaptcha=u(regeneratorRuntime.mark(function n(){var r,o,i,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.props.captcha,Object(a.c)("Execute Captcha attempt","INFO","Captcha"),!t.ignoreCaptcha){n.next=4;break}return n.abrupt("return");case 4:return r.isGrecaptchaLoaded()||Object(a.b)("Captcha was not loaded at time of executeCaptcha",e,"Captcha"),o=Date.now(),n.prev=6,t.setState({loading:!0}),n.next=10,r.waitUntilCaptchaReady(15e3);case 10:return i=n.sent,n.next=13,r.getToken(m);case 13:return c=n.sent,r.deleteToken(m),t.setState({loading:!1}),Object(a.c)("Token Exists after execute = [".concat(!!c,"], waitUntilCaptchaReady_time_ms = [").concat(i,"]"),"INFO","Captcha"),n.abrupt("return",c);case 20:n.prev=20,n.t0=n.catch(6),Object(a.b)("\n          ".concat(n.t0.message,"; Time from start of execute to error was ").concat(Date.now()-o,"\n        "),e,"Captcha",void 0,void 0,JSON.stringify(n.t0)),t.setState({loading:!1});case 24:case"end":return n.stop()}},n,null,[[6,20]])})),t}var r,c,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(n,o.a.Component),r=n,(c=[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,this.props.children({loading:this.state.loading,execute:this.executeCaptcha,brandingNotice:o.a.createElement(i.b,null)}))}},{key:"ignoreCaptcha",get:function(){return!1}}])&&l(r.prototype,c),s&&l(r,s),n}()}).call(this,"/")},912:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return l});var r=n(19),o=n(956),a=n.n(o);function i(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function c(e){i(a,r,o,c,s,"next",e)}function s(e){i(a,r,o,c,s,"throw",e)}c(void 0)})}}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){},l=function(){function t(e,n){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.config=e,this.defaultAction=n,this.tokenMap=new Map,this.tokenReqMap=new Map,this.tokenRefreshTimers=new Map,this.initTimeStart=0,this.waitUntilCaptchaReady=function(e){var t=Date.now();return new Promise(function(n,r){!function a(){var i=Date.now()-t;if(i>e)return r(new Error("Max wait time of ".concat(e,"ms reached while waiting for grecaptcha initialize")));try{if(o.isGrecaptchaLoaded())return n(i)}catch(e){}finally{window.setTimeout(a,100)}}()})},this.onCaptchaLoad=function(){Object(r.c)("Initial Captcha load time, ms","INFO","Captcha",{loadTime:Date.now()-o.initTimeStart}),o.suppressCaptchaErrors(),o.hideCaptchaBadges(),o.preloadDefaultToken()}}var n,o,i;return n=t,(o=[{key:"addOnLoadHook",value:function(){window[t.onLoadFnName]=this.onCaptchaLoad}},{key:"init",value:function(){this.initTimeStart=Date.now(),this.isGrecaptchaLoaded()&&this.onCaptchaLoad()}},{key:"cleanup",value:function(){this.tokenRefreshTimers.forEach(function(e){return clearTimeout(e)})}},{key:"preloadDefaultToken",value:function(){var t=this;return this.preCacheToken(this.defaultAction).then(function(){Object(r.c)("RequestToken Captcha preload time, ms","INFO","Captcha",{timeSinceReady:Date.now()-t.initTimeStart})}).catch(function(t){return Object(r.b)("captchaOnLoad failed to execute",e,"Captcha",void 0,void 0,JSON.stringify(t))})}},{key:"getFullUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.config,r=n.enterpriseKey,o=n.globalEnterpriseUrl,a=n.enterpriseUrl;return"".concat(e?o:a,"?logging=true&onload=").concat(encodeURIComponent(t.onLoadFnName),"&render=").concat(encodeURIComponent(r))}},{key:"deleteToken",value:function(e){this.tokenMap.has(e)&&this.tokenMap.delete(e)}},{key:"getToken",value:function(){var e=c(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.tokenMap.get(t),o=n&&Date.now()-n.time>1e5,n&&!o){e.next=7;break}return o&&Object(r.c)("Captcha getToken token is expired","INFO","Captcha",{lifetimeMs:Date.now()-n.time}),e.next=6,this.preCacheToken(t);case 6:n=e.sent;case 7:return e.abrupt("return",n.token);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"preCacheToken",value:function(){var e=c(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.clearRefreshTimer(t),e.next=3,this.requestToken(t);case 3:return n=e.sent,this.tokenMap.set(t,n),this.setRefreshTimer(t),e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"requestToken",value:function(){var e=c(regeneratorRuntime.mark(function e(t){var n,o,a,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.tokenReqMap.has(t)||(n=Date.now(),o=function(e,n){return function(){Object(r.c)("RequestToken Captcha execute ".concat(e," time, ms"),"INFO","Captcha",{timeSinceReady:Date.now()-n}),i.tokenReqMap.delete(t)}},a=new Promise(function(e,o){if(!i.grecaptcha)return o(new Error("grecaptcha object is not present in window"));i.grecaptcha.enterprise.ready(c(regeneratorRuntime.mark(function o(){var a,c;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return a=Date.now(),Object(r.c)("RequestToken Captcha ready time, ms","INFO","Captcha",{timeSinceRequest:a-n}),o.next=4,i.grecaptcha.enterprise.execute(i.config.enterpriseKey,{action:t});case 4:c=o.sent,e({token:c,time:Date.now()});case 6:case"end":return o.stop()}},o)})))}),this.tokenReqMap.set(t,a),a.then(o("success",n),o("fail",n))),e.abrupt("return",this.tokenReqMap.get(t));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"isGrecaptchaLoaded",value:function(){return!(!this.grecaptcha||!this.grecaptcha.enterprise.ready)}},{key:"hasCaptchaScript",value:function(){return!!this.captchaScriptElement}},{key:"hasCaptchaStyle",value:function(){return!!document.querySelector('style[data-key="captcha-style"]')}},{key:"hideCaptchaBadges",value:function(){this.captchaBadges.forEach(function(e){e&&e.classList.add(a.a.hide)})}},{key:"suppressCaptchaErrors",value:function(){var e=this;this.captchaBadges.forEach(function(t){t&&(e.suppressIframeErrors(t),t.parentNode&&e.suppressIframeErrors(t.parentNode))})}},{key:"suppressIframeErrors",value:function(e){var t=e.querySelector("iframe");t&&!t.onerror&&(t.onerror=u)}},{key:"clearRefreshTimer",value:function(e){this.tokenRefreshTimers.has(e)&&(window.clearTimeout(this.tokenRefreshTimers.get(e)),this.tokenRefreshTimers.delete(e))}},{key:"setRefreshTimer",value:function(e){var t=this;this.clearRefreshTimer(e),this.tokenRefreshTimers.set(e,window.setTimeout(function(){return t.preCacheToken(e)},6e4))}},{key:"captchaBadges",get:function(){for(var e=document.getElementsByClassName("grecaptcha-badge"),t=[],n=0;n<e.length;n++){var r=e.item(n);r&&t.push(r)}return t}},{key:"captchaScriptElement",get:function(){return document.querySelector('script[data-key="captcha"]')}},{key:"grecaptcha",get:function(){return window.grecaptcha}}])&&s(n.prototype,o),i&&s(n,i),t}();l.onLoadFnName="captchaOnLoad"}).call(this,"/")},913:function(e,t,n){e.exports={container:"ei9InNP",preloader:"vpuA-pm",spin:"OFtqaJZ"}},914:function(e,t,n){"use strict";var r=n(1),o=n.n(r),a=n(105),i=n(854),c=n(853),s=n(859),u=n(66),l=n(104),p=n(77),f=n(20),d=n(872),m=n(24),h=n(860),b=n(907),y=n(280),g=n(94),v=n(888),w=n(889),O=n(919),E=n(886),S=n(890),j=n.n(S),k=n(920),_=n.n(k);function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var N=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":M(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},I=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=P(this,x(t).apply(this,arguments))).progress=o.a.createRef(),e.startCountdown=function(){var t;e.props.viewModel.startResendCountdown(),null===(t=e.progress.current)||void 0===t||t.startAnimation()},e.formViewModel=new O.a(e.props.notificationStore,e.startCountdown,e.props.viewModel,e.props.userService),e.handleSendError=function(t){var n=Object(f.g)(t)||"";Object(d.d)(n)?e.props.viewModel.handleSuccess():e.startCountdown()},e}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(t,u["a"]),n=t,(r=[{key:"componentDidMount",value:function(){var e,t=this.props.viewModel,n=t.disableResend,r=t.sendCode;n?null===(e=this.progress.current)||void 0===e||e.startAnimation():r().then(this.startCountdown).catch(this.handleSendError),m.d.sharedEmailVerificationStepPageShow(Object(p.e)(this.getCtx()),location.href)}},{key:"componentWillUnmount",value:function(){this.props.viewModel.cleanupTimer()}},{key:"render",value:function(){var e=this.props,t=e.sentMessage,n=e.title;return o.a.createElement("div",{className:j.a.emailContainer},n,o.a.createElement(c.d,{multiplier:1}),t,o.a.createElement(c.d,{multiplier:3}),this.codeForm)}},{key:"codeForm",get:function(){var e=this.formViewModel,t=e.errorMessage,n=e.loading,r=e.autoSubmit,a=e.resendCode,i=e.handleCodeChange,s=e.handleSubmit,u=e.btnStatus,l=this.props,p=l.viewModel,f=p.email,d=p.disableResend,m=l.showInstructions,O=l.submitButton,S=l.showLoader;return o.a.createElement("form",{className:j.a.form,noValidate:!0},o.a.createElement("img",{src:_.a,className:j.a.emailIllustration}),o.a.createElement(c.d,{multiplier:2}),o.a.createElement(v.a,{onFilledOut:r,onChange:i,disabled:n}),o.a.createElement("div",{className:j.a.errorMessageContainer},t&&o.a.createElement("div",{className:j.a.errorMessage},t)),m&&o.a.createElement("div",{className:j.a.instructionsText},"We’ve sent a six-digit verification code to",o.a.createElement("br",null),f,".",o.a.createElement("br",null),"Please enter this code before it expires."),o.a.createElement(O,{submit:s,btnStatus:u}),o.a.createElement(c.d,{multiplier:2}),o.a.createElement("div",{className:j.a.links},o.a.createElement(w.a,{radius:8,interval:E.b.IntervalBetweenCodeSend,className:d?j.a.progress:j.a.hide,ref:this.progress}),o.a.createElement(b.a,{content:"Please wait 30 seconds to resend the code.",bottom:!0,widthPx:300},o.a.createElement(g.a,{className:d?j.a.disabledLink:j.a.link,onBeforeFollow:a},"Resend the code"))),o.a.createElement(function(){return S?o.a.createElement(h.b,{show:n,animation:h.a.scrollIn},o.a.createElement("div",{className:j.a.preLoader},o.a.createElement(y.a,{color:"green50"}))):null},null))}}])&&C(n.prototype,r),a&&C(n,a),t}();I=N([a.d],I);var T=Object(l.a)("notificationStore","userService")(I);function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t){return!t||"object"!==V(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var B=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":V(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},U=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=L(this,D(t).apply(this,arguments))).render=function(){return o.a.createElement(T,A({},e.visualProps,e.props))},e}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(t,o.a.Component),n=t,(r=[{key:"visualProps",get:function(){var e=this.props.viewModel,t=e.email,n=e.newEmailCandidate,r=e.isVerifyNewEmail;return{title:r?o.a.createElement(i.d,{textAlign:"center"},"Verify your new email address"):o.a.createElement(i.d,{textAlign:"center"},"Let's verify your email address"),sentMessage:r?o.a.createElement(i.n,{textAlign:"center"},"Enter the six-digit verification code we sent to ",o.a.createElement("br",null),o.a.createElement(i.p,{color:"neutral60",bold:!0},n),"."):o.a.createElement("div",{className:j.a.subtitle},"You're signing in as ",t),showInstructions:!r,submitButton:function(e){var t=e.submit,n=e.btnStatus;return r?o.a.createElement(o.a.Fragment,null,o.a.createElement(c.d,{multiplier:1}),o.a.createElement(s.a,{status:n,qa:"confirmEmailChange",onClick:t,text:"Confirm email change",widthPercent:100}),o.a.createElement(c.d,{multiplier:1})):null},showLoader:!r}}}])&&F(n.prototype,r),a&&F(n,a),t}();U=B([a.d],U);t.a=U},915:function(e,t,n){e.exports={container:"_33rQDAi",fadeInEnter:"_2HSJd-p",fadeInEnterActive:"_2zCkzVy",fadeInExit:"_1dScR4s",fadeInExitActive:"x5oNM2i",fadeInExitDone:"_1yzSbSa",scrollInEnter:"_3-iZlw_",scrollInEnterActive:"_1DLjQjf",scrollInExit:"_16HNpsf",scrollInExitActive:"_1cOJJTj"}},916:function(e,t,n){e.exports=n.p+"files/1f8dbe4f0201e52908903ef94a1261b2/success.svg"},917:function(e,t,n){e.exports={subTitle:"daK-klw",successTitle:"_26_7JVW",textarea:"_3BVlikD",backLink:"o-0s9-t",text:"_1JExB_b",button:"_3F9Hesp",successIcon:"_1oGlC6V",successText:"_1ScgZZH"}},918:function(e,t,n){e.exports={input:"_3_lqZh8",container:"_16cPs0I",third:"_1YHFR7R"}},919:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return m});var r=n(5),o=n(77),a=n(20),i=n(24),c=n(19),s=n(859);function u(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":p(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},d=function(e,t){if("object"===("undefined"==typeof Reflect?"undefined":p(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},m=function(){function t(n,r,s,l){var p=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.notificationStore=n,this.startCountdown=r,this.emailVerificationViewModel=s,this.userService=l,this.loading=!1,this.code="",this.handleCodeChange=function(e){return p.code=e},this.submitCode=function(){var t,n=(t=regeneratorRuntime.mark(function t(n){var r,s,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=p.emailVerificationViewModel,s=r.handleSuccess,u=r.verifyCode,p.loading=!0,p.errorMessage=void 0,t.prev=3,t.next=6,u(n);case 6:if(!t.sent){t.next=10;break}return t.next=10,p.userService.load(!0);case 10:s(),i.d.sharedEmailVerificationFormSuccess(Object(o.c)(p.ctx)),t.next=21;break;case 14:t.prev=14,t.t0=t.catch(3),p.handleVerifyCodeError(t.t0),p.emailVerificationViewModel.setDisableResend(!1),p.loading=!1,i.d.sharedEmailVerificationFormFail(Object(o.c)(p.ctx)),Object(c.b)("Error verifying email code ".concat(Object(a.l)(t.t0)),e,"Signin.VerifyEmail");case 21:case"end":return t.stop()}},t,null,[[3,14]])}),function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(e){u(a,r,o,i,c,"next",e)}function c(e){u(a,r,o,i,c,"throw",e)}i(void 0)})});return function(e){return n.apply(this,arguments)}}(),this.handleVerifyCodeError=function(e){var t=e.code,n=Object(a.g)(e);404===t||400===t||"invalid_code"===n?p.errorMessage="Invalid code. Please try again.":409===t?p.errorMessage="An account with this email already exists.":429===t?p.notificationStore.pushFailedNotification("Too many attempts. Please try again later."):"FAILURE"===n?p.notificationStore.pushFailedNotification("Your password is incorrect."):p.notificationStore.pushFailedNotification("Something went wrong.")},this.handleSubmit=function(){return p.submitCode(p.code)},this.autoSubmit=this.emailVerificationViewModel.isVerifyNewEmail?void 0:this.submitCode,this.resendCode=function(){var e=p.emailVerificationViewModel,t=e.email,n=e.disableResend,r=e.setDisableResend,a=e.sendCode;n||(a().then(function(){return p.notificationStore.pushSuccessNotification("A new email with a verification code was just resent to ".concat(t,"."))}).catch(function(){return r(!1)}),p.startCountdown(),i.d.sharedEmailVerificationResendCodeButtonClick(Object(o.c)(p.ctx)))}}var n,r,p;return n=t,(r=[{key:"ctx",get:function(){return this.emailVerificationViewModel.ctx}},{key:"auth",get:function(){return this.ctx.api.auth}},{key:"btnStatus",get:function(){return this.loading?s.c.Loading:s.c.Active}}])&&l(n.prototype,r),p&&l(n,p),t}();f([r.observable,d("design:type",Object)],m.prototype,"loading",void 0),f([r.observable,d("design:type",String)],m.prototype,"errorMessage",void 0),f([r.observable,d("design:type",Object)],m.prototype,"code",void 0),f([r.action,d("design:type",Object)],m.prototype,"handleCodeChange",void 0),f([r.computed,d("design:type",Object),d("design:paramtypes",[])],m.prototype,"btnStatus",null),f([r.action,d("design:type",Object)],m.prototype,"submitCode",void 0),f([r.action,d("design:type",Object)],m.prototype,"handleVerifyCodeError",void 0)}).call(this,"/index.js")},920:function(e,t,n){e.exports=n.p+"files/65aa0d3508fd3df8fadcbd96a7e810ac/email.svg"},921:function(e,t,n){e.exports={title:"_2W1OWFX",subtitle:"_1F_nqy6",email:"eR8LwR_",consent:"_2OvdH3h",content:"_17fY52J",instructionsText:"_379NVqy",form:"xofYEFY",gradientLine:"_3Jmf9H8",close:"_2y7y5WI",buildIn:"_20nA3wa",link:"_2zLBna3",errorMessage:"UjM_kW5",input:"_1Jro5N7",button:"_1X5xrdq",mobileTosContainer:"_28tfQw3",tos:"rIfd7Bc",loader:"_1DG6HPo",change:"_1xA-AeI",authorize:"_22nhzrJ"}},922:function(e,t,n){e.exports={bottomWrapper:"_23gk9xl",navigationLink:"_3C9bEbr"}},923:function(e,t,n){e.exports={title:"_19HHOTF",signupTitle:"_2mvhSBZ",subtitle:"_2zWw3vE",content:"_2TrUuwU",instructionsText:"_1gVUJZG",checkbox:"_3N40NgT",form:"_2P54DcD",gradientLine:"_3ij6av7",close:"_2ho-rxl",buildIn:"_3Et69Db",link:"_1EMkLkB",navigationLink:"_3w810Ub",errorMessage:"zHSrhxN",input:"_2He_-7v",button:"_1Q03hgQ",mobileTosContainer:"_2Jfl-mN",tos:"_1WS-MAN",loader:"_18_MtCs",signupForm:"_3Im05nC",bottomWrapper:"_3RlNhX9"}},924:function(e,t,n){e.exports={title:"_2XNCTDz",subTitle:"NQmV_W9",subtitle:"zjdfS-F",content:"b7DHi5B",instructionsText:"_3xNFVRg",form:"_2y-Q9G-",gradientLine:"_3CvLaku",close:"_3sf78PL",buildIn:"_1L7bfSE",link:"_2hSlRpZ",backLink:"_2EmR9I9",errorMessage:"_3pufgU1",input:"_1_nCyF8",button:"_2i7WSWR",mobileTosContainer:"_3aXQmm-",tos:"_2eskR_N",loader:"Bnu2ge6",text:"UGF7d7x"}},925:function(e,t,n){e.exports=n.p+"files/dd07e281f579e8b7e322bb8044156fd0/facebook.svg"},926:function(e,t,n){e.exports=n.p+"files/c5f7b26cb733f625ee1e3723eaec9820/google.svg"},927:function(e,t,n){e.exports={title:"_10M3H4Z",subtitle:"_37viVwC",name:"_3FW6riA",content:"_1IqwTCW",instructionsText:"_3Us-TkO",email:"_1yfSFhs",form:"_3lrb2Hz",gradientLine:"_1zYB-h4",close:"_27ho0ZV",buildIn:"qm7w9q3",link:"GrIAU2B",errorMessage:"_2nBUenu",input:"F-4xyzc",button:"_2tiYPC9",mobileTosContainer:"_2QJCu7X",tos:"_3DjWN9B",loader:"o0cPIMZ",text:"_2fMOOzh",userInfo:"jCYBUiP",img:"_2ufKpDO",imgWrapper:"_1ekMCpF",serviceIcon:"_13O2ybd"}},928:function(e,t,n){e.exports={title:"_3hJb33j",subtitle:"_1ZJcjJ-",content:"_3rPdwpC",instructionsText:"VWeePdz",form:"_3J5ALHV",gradientLine:"_3vRFaqW",close:"_1tkvRwb",buildIn:"_2o6ZSgU",link:"_3gvvf_F",errorMessage:"_1BQF8d2",input:"_3YKJ9iy",button:"_1obx7k6",mobileTosContainer:"_2jk7w4j",tos:"_2N0Qn4H",loader:"SnmolPs",text:"_1BP3Do-",resetform:"_3cJLsiQ",bottomWrapper:"_2wROXgY"}},929:function(e,t,n){e.exports={title:"nJ5yUOv",subtitle:"_2gIgOmp",content:"yaUSAfi",instructionsText:"_26vc0dl",form:"_1rbmWEC",gradientLine:"_36IXqy3",close:"_1eLUYW1",buildIn:"_1UkIWTS",link:"qEn_DoD",errorMessage:"_1nBv3AN",input:"_33LZ7mj",button:"_1j1nCIn",mobileTosContainer:"_1lnTkaQ",tos:"_2iJB1Of",loader:"_2D8fAVi",captchaWrapper:"_2-lnA0m",narrowText:"_3Bj7ARY",supportLinkWrapper:"_4NfDcfA",supportLink:"cFwI5pL"}},930:function(e,t,n){e.exports=n.p+"files/95a97b530992fcf8816e6e8b3af35d16/phone.svg"},931:function(e,t,n){e.exports=n.p+"files/1878049b69ce9c5e2d86838065eec8fe/warning.svg"},932:function(e,t,n){e.exports=n.p+"files/825943f1ef993faf5c2d07ad512a38d4/arrow.svg"},933:function(e,t,n){e.exports=n.p+"files/3c391b84cd214d43726b4f9f9d7602cb/totp.svg"},934:function(e,t,n){e.exports=n.p+"files/f28537da79ee908540565ed21705fba0/support.svg"},935:function(e,t,n){e.exports={title:"_16tIKV1",subtitle:"_1d6MV3y",tryOtherMethodTitle:"_3D-kflY",content:"_1xrRr-P",instructionsText:"_35EQOhs",checkbox:"_2Gt48_s",tooltip:"_9jdQe6K",form:"UI4WEBi",gradientLine:"_3nioYov",close:"_2W1VcVK",buildIn:"MvENpei",link:"_1NnT4Zb",errorMessage:"_3_LCBWw",input:"fYsIlAe",button:"_6SMA4bI",mobileTosContainer:"_1C3c4Ov",tos:"ocf9-JL",loader:"L_FbOiM",mfaForm:"_1XIPuCg",emailLabel:"mDtNc9o",email:"_3qmjI3a",changeEmail:"_1W8TBNy",mfaIllustration:"_9FhZkWS",backupIllustration:"_2Eo4FXi",resendableMode:"_1IqDA4d",links:"_39jXFFI",progress:"_1LGsNr2",hide:"_3cRhNOz",resendLink:"_21p0vz_",disabledLink:"_1VAhAqr",method:"_3H5pO1F",iconWrapper:"_3Wcy63G",methodInfo:"_1Udr39K",methodName:"_1oE2NE4",methodText:"_1cxpyZf",disabledMethod:"_1BD4JPk",errorWrapper:"WkyW3ZG"}},936:function(e,t,n){e.exports=n.p+"files/d57c3da50820cf6c9d6a73e72f75c3a5/phone_disabled.svg"},937:function(e,t,n){e.exports=n.p+"files/ad5c23d9d3df7c733b1732a1f4bd7505/backup.svg"},938:function(e,t,n){e.exports=n.p+"files/f2bcb25e8fd09aeee324b903fd1f10f5/mfa.svg"},939:function(e,t,n){e.exports=n.p+"files/6d610b730636f2ea8a91744a3f83d74c/emailVerification.svg"},940:function(e,t,n){e.exports=n.p+"files/8bbfe4383109422f752bb5ecf971482f/backupIllustration.svg"},941:function(e,t,n){"use strict";(function(e){var r,o=n(1),a=n.n(o),i=n(104),c=n(897),s=n(279),u=n(857),l=n(20),p=n(19),f=n(853),d=n(859),m=n(854),h=n(860),b=n(957),y=n(858),g=n(942),v=n(943),w=n.n(v);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function j(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function k(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){j(a,r,o,i,c,"next",e)}function c(e){j(a,r,o,i,c,"throw",e)}i(void 0)})}}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}!function(e){e.newEmail="newEmail",e.password="password"}(r||(r={}));var R=function(t){function n(){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=C(this,P(n).apply(this,arguments))).state={loading:!1,errorMessage:void 0},t.handleSubmit=function(){var e=k(regeneratorRuntime.mark(function e(n){var r,o,a,i,c,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),t.setState({loading:!0,errorMessage:void 0}),r=t.props.viewModel,o=r.setNewEmail,a=r.setPassword,i=r.handleNewEmailInformation,c=t.formData,s=c.password,u=c.newEmail,!t.validateForm()){e.next=22;break}if(o(u),a(s),e.prev=8,!t.isSocial){e.next=12;break}return e.next=12,t.migrateSocial();case 12:return e.next=14,t.sendCode();case 14:i(),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(8),t.setState({loading:!1});case 20:e.next=23;break;case 22:t.setState({loading:!1});case 23:case"end":return e.stop()}},e,null,[[8,17]])}));return function(t){return e.apply(this,arguments)}}(),t.migrateSocial=function(){var e=t.props.socialUserService,n=e.userSocialService,r=e.user&&(null==n?void 0:n.getAuthSigninConfig());if(r)return t.props.userService.migrateAccountToNewEmailLogin(r,t.formData.password).catch(t.handleMigrationError)},t.handleMigrationError=function(n){var r=t.props.notificationStore;throw 429===n.code?t.setState({errorMessage:"Too many attempts. Please try again later."}):401===n.code?r.pushFailedNotification("Something went wrong. Please refresh the page and try again."):r.pushFailedNotification("Something went wrong."),Object(p.b)("Error migrating from social user to new email ".concat(Object(l.l)(n)),e,"Signin.ChangeEmail"),n},t.sendCode=k(regeneratorRuntime.mark(function e(){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.props.viewModel,r=n.sendCode,e.abrupt("return",r().catch(t.handleSendCodeError));case 3:case"end":return e.stop()}},e)})),t.handleSendCodeError=function(n){var r=t.props.notificationStore;throw 429===n.code?r.pushFailedNotification("Too many attempts. Please try again later."):409===n.code?t.setState({errorMessage:"An account with this email already exists."}):r.pushFailedNotification("Something went wrong."),Object(p.b)("Error sending email code ".concat(Object(l.l)(n)),e,"Signin.EmailVerification"),n},t}var o,i,v;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(n,c["a"]),o=n,(i=[{key:"componentDidMount",value:function(){this.props.viewModel.startVerifyNewEmailStep()}},{key:"render",value:function(){var e=this,t=this.props.userService.user.email,n=this.state.errorMessage;return a.a.createElement("form",{className:w.a.container,noValidate:!0,onSubmit:this.handleSubmit},a.a.createElement(m.d,null,"Enter a new email address"),a.a.createElement(f.d,{multiplier:1}),a.a.createElement(m.n,{textAlign:"center",color:"neutral40"},"Remember, you can no longer use ",t,"."),a.a.createElement(f.d,{multiplier:2}),this.fields.map(function(t){var n=t.name,r=S(t,["name"]);return a.a.createElement(y.a,E({className:w.a.input,key:n,ref:function(t){return e.inputs[n]=t}},r))}),a.a.createElement(h.b,{show:!!n,animation:h.a.scrollIn},a.a.createElement(m.n,{color:"red50"},n)),this.socialNotice,a.a.createElement(f.d,{multiplier:1}),a.a.createElement(d.a,{status:this.buttonStatus,qa:g.a.continueButton,text:"Continue",submit:!0,widthPercent:100}),a.a.createElement(f.d,{multiplier:1}))}},{key:"isSocial",get:function(){return this.props.userService.user.isSocial}},{key:"fields",get:function(){return[{placeholder:"New email address",inputType:b.b.field,name:r.newEmail,type:"text",validator:new u.b(u.c.email),qa:g.a.newEmailInput},{placeholder:"".concat(this.isSocial?"New":"Current"," password"),inputType:b.b.field,name:r.password,type:"password",validator:new u.b(u.c.password),qa:g.a.passwordInput}]}},{key:"socialNotice",get:function(){var e=this.props.socialUserService.user,t=e&&e.socialNetworkName||"";return this.isSocial&&a.a.createElement(a.a.Fragment,null,a.a.createElement(f.d,{multiplier:1}),a.a.createElement(m.n,{textAlign:"left"},"Going forward, you will no longer be able to sign in with your ",Object(s.a)(t)," account."),a.a.createElement(f.d,{multiplier:1}))}},{key:"buttonStatus",get:function(){return this.state.loading?d.c.Loading:d.c.Active}}])&&_(o.prototype,i),v&&_(o,v),n}();t.a=Object(i.a)("userService","socialUserService","notificationStore")(R)}).call(this,"/index.js")},942:function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.newEmailInput="newEmailInput",e.passwordInput="passwordInput",e.continueButton="continueBtn"}(r||(r={}))},943:function(e,t,n){e.exports={container:"_3vHAxJn",goBackLink:"_3fXKyTj",input:"uuXBxz0"}},944:function(e,t,n){e.exports=n.p+"files/eb1ade6d19bd9bff1db43a49a4040a0f/close.svg"},945:function(e,t,n){e.exports={title:"_3cbA3p-",subtitle:"_187bUo9",content:"_286hB4y",instructionsText:"dVQnRIN",form:"HXkWh3X",gradientLine:"_3ikLVl-",close:"_2CsIJwp",buildIn:"_2DahXzO",link:"_2IyxcCd",errorMessage:"_39p4XSm",input:"_2IjlZ0E",button:"_2i39_nL",mobileTosContainer:"o72Qifc",tos:"_28rcBRR",loader:"_2vQcGfq"}},977:function(e,t,n){"use strict";var r=n(1),o=n.n(r),a=n(104),i=n(66),c=n(55),s=n(988),u=n.n(s);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,d(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,i["a"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.popupStore,n=e.className,r=e.white,a=e.deprecatedStyle,i=e.children;return o.a.createElement("div",{className:Object(c.b)(a?u.a.pageDeprecatedStyle:u.a.page,r&&u.a.white,n)},t.popup,i)}}])&&p(n.prototype,r),a&&p(n,a),t}();t.a=Object(a.a)("popupStore")(Object(a.b)(h))},988:function(e,t,n){e.exports={pageDeprecatedStyle:"f-_ZoFN",page:"pQCIbDQ",white:"_1cnNU_E"}},999:function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return p});var r=n(6),o=n(14),a=n(163);function i(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=Object(o.a)().api.redirect;function l(e,t){var n=e.query.state;return p(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t||{},{},n?{state:n}:{})).then(function(e){document.location.href=e})}function p(e){return f.apply(this,arguments)}function f(){var e;return e=regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.d.get(u),Object.keys(t).forEach(function(e){return n.queryParam(e,t[e])}),e.next=4,Object(a.a)(n);case 4:return e.abrupt("return",Object(a.b)({}).text(n));case 5:case"end":return e.stop()}},e)}),(f=function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function c(e){i(a,r,o,c,s,"next",e)}function s(e){i(a,r,o,c,s,"throw",e)}c(void 0)})}).apply(this,arguments)}}}]);